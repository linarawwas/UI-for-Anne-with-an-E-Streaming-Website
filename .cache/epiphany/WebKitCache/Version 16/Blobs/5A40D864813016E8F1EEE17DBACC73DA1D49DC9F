(self.webpackChunkapester_sdk=self.webpackChunkapester_sdk||[]).push([[692],{5366:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(7608),o=n(4665);function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function a(e,t,n){return(a=r()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&(0,o.Z)(r,n.prototype),r}).apply(null,arguments)}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a(e,arguments,(0,i.Z)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,o.Z)(r,e)})(e)}},2975:function(e,t,n){"use strict";n(2419);var i=n(6610),o=n(3349),r=n(379),a=n(6070),s=n(7608),c=n(5366),u=n(6156);n(8309);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}var d=function(e){(0,r.Z)(n,e);var t=l(n);function n(e,r,a){var s;return(0,i.Z)(this,n),s=t.call(this,r),(0,u.Z)((0,o.Z)(s),"type",void 0),(0,u.Z)((0,o.Z)(s),"data",void 0),Error.captureStackTrace&&Error.captureStackTrace((0,o.Z)(s),n),s.name="MonetizationError",s.data=a,s.type=e,s}return n}((0,c.Z)(Error));t.Z=d},3266:function(e,t){"use strict";var n;!function(e){e.UNKNOWN="unknown",e.NO_AD_SERVED="no_impression"}(n||(n={})),t.Z=n},7996:function(e,t,n){"use strict";var i,o,r;n.d(t,{UO:function(){return i},qT:function(){return o},JA:function(){return r}}),function(e){e.SCRIPT_ID="APESTER_GPT",e.SCRIPT_URL="https://securepubads.g.doubleclick.net/tag/js/gpt.js"}(i||(i={})),function(e){e.SLOT_RENDER_ENDED="slotRenderEnded",e.SLOT_REQUESTED="slotRequested",e.SLOT_RESPONSE_RECEIVED="slotResponseReceived"}(o||(o={})),function(e){e.CHANNEL_ID="apester_channel_id",e.DOMAIN="apester_domain",e.SDK_VERSION="sdk_version",e.FEED="feed"}(r||(r={}))},6546:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var i,o,r=n(9351),a=n(2137),s=n(6610),c=n(6156),u=n(7757),l=n.n(u),d=(n(9600),n(1539),n(8674),n(2222),n(4916),n(3123),n(7941),n(2526),n(7327),n(5003),n(4747),n(9337),n(3266)),f=n(2975),g=n(478),m=n(808),p=n(1955),v=n(7329),h=(n(5306),["ac","ad","ae","aero","af","ag","ai","al","am","an","ao","aq","ar","arpa","as","asia","at","au","auz","aw","ax","az","ba","bb","bd","be","bf","bg","bh","bi","biz","bj","bm","bn","bo","br","bs","bt","bv","bw","by","bz","ca","cat","cc","cd","cf","cg","ch","ci","ck","cl","cm","cn","co","com","coop","cr","cu","cv","cx","cy","cz","de","dj","dk","dm","do","dz","ec","edu","ee","eg","er","es","et","eu","fi","fj","fk","fm","fo","fr","ga","gb","gd","ge","gf","gg","gh","gi","gl","gm","gn","gov","gp","gq","gr","gs","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","im","in","info","int","io","iq","ir","is","it","je","jm","jo","jobs","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","me","mg","mh","mil","mk","ml","mm","mn","mo","mobi","mp","mq","mr","ms","mt","mu","museum","mv","mw","mx","my","mz","na","name","nc","ne","net","nf","ng","ni","nl","no","np","nr","nu","nz","om","org","pa","pe","pf","pg","ph","pk","pl","pm","pn","pr","pro","ps","pt","pw","py","qa","re","ro","rs","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","st","su","sv","sy","sz","tc","td","tel","tf","tg","th","tj","tk","tl","tm","tn","to","tp","tr","travel","tt","tv","tw","tz","ua","ug","uk","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","xxx","ye","yt","za","zm","zw"]),b=function(){for(var e,t,n,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null!==(e=null===(t=window)||void 0===t||null===(n=t.top)||void 0===n?void 0:n.location.hostname)&&void 0!==e?e:"",r=o.replace("www.",""),a=r.split("."),s=a.length,c=s,u=[];i=a[--c];)if(u=[i].concat((0,v.Z)(u)),-1===h.indexOf(i)||c<s-2||0===c)return u;return u};!function(e){e.ACCOUNT_ID="17178",e.SCRIPT_URL="https://micro.rubiconproject.com/prebid/dynamic/",e.GPT_URL="https://www.googletagservices.com/tag/js/gpt.js",e.AMAZON_URL="https://c.amazon-adsystem.com/aax2/apstag.js"}(i||(i={})),function(e){e.CHANNEL_ID="apester_channel_id",e.DOMAIN="apester_domain",e.SDK_VERSION="sdk_version"}(o||(o={}));var w=n(7996);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(){var e=b();return e.length?e.join("_"):""},E=function e(t,n){var o,u=this;(0,s.Z)(this,e),(0,c.Z)(this,"NAME","magnite"),(0,c.Z)(this,"scriptUrl",void 0),(0,c.Z)(this,"googleTagUrl",void 0),(0,c.Z)(this,"amazonTagUrl",void 0),(0,c.Z)(this,"settings",void 0),(0,c.Z)(this,"elementId",void 0),(0,c.Z)(this,"dfp",void 0),(0,c.Z)(this,"isSlotPath",void 0),(0,c.Z)(this,"magniteDivId",void 0),(0,c.Z)(this,"sizes",void 0),(0,c.Z)(this,"magniteIsolatedIframe",void 0),(0,c.Z)(this,"iframeWindow",void 0),(0,c.Z)(this,"rubiconConfig",void 0),(0,c.Z)(this,"latestAuction",void 0),(0,c.Z)(this,"isIframeLoaded",void 0),(0,c.Z)(this,"shouldRefreshContainerId",(function(){return!1})),(0,c.Z)(this,"shouldDestroyAdInsideLoop",(function(){return!0})),(0,c.Z)(this,"buildIframe",(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var t;null!==(t=u.magniteIsolatedIframe)&&void 0!==t&&t.remove&&(u.magniteIsolatedIframe.remove(),u.magniteIsolatedIframe=void 0),u.magniteIsolatedIframe=document.createElement("iframe"),u.magniteIsolatedIframe.src="about:blank",u.magniteIsolatedIframe.id="iframe-".concat(u.elementId),u.magniteIsolatedIframe.style.setProperty("overflow","hidden"),u.magniteIsolatedIframe.style.setProperty("border","0"),u.magniteIsolatedIframe.setAttribute("width","0"),u.magniteIsolatedIframe.setAttribute("height","0"),u.magniteIsolatedIframe.setAttribute("referrerpolicy","strict-origin-when-cross-origin"),u.isIframeLoaded=!1;var n=document.getElementById(u.elementId);if(n){var i='\n        <!document html>\n        <head>\n          <script async src="'.concat(u.googleTagUrl,'" referrerpolicy="strict-origin-when-cross-origin"><\/script>\n          <script async src="').concat(u.amazonTagUrl,'" referrerpolicy="strict-origin-when-cross-origin"><\/script>\n          <script async src="').concat(u.scriptUrl,'" referrerpolicy="strict-origin-when-cross-origin"><\/script>\n          <meta name="referrer" content="strict-origin-when-cross-origin" />\n        </head>\n        <body style="margin: 0; text-align: center">\n          <div id="').concat(u.elementId,'"></div>\n        </body>\n      ');u.magniteIsolatedIframe.onload=function(){var t;if(null!==(t=u.magniteIsolatedIframe)&&void 0!==t&&t.contentWindow&&u.magniteIsolatedIframe.contentDocument&&!u.isIframeLoaded){var n;u.isIframeLoaded=!0,u.iframeWindow=u.magniteIsolatedIframe.contentWindow,u.magniteIsolatedIframe.contentDocument.open("text/html","replace"),u.magniteIsolatedIframe.contentDocument.write(i),u.magniteIsolatedIframe.contentDocument.close(),u.iframeWindow.pbjs=u.iframeWindow.pbjs||{},u.iframeWindow.pbjs.que=u.iframeWindow.pbjs.que||[],u.iframeWindow.pbjs.que.push((function(){var t,n,i;if(u.iframeWindow){null===(t=u.iframeWindow)||void 0===t||t.pbjs.onEvent("auctionEnd",(function(e){(0,g.f_)("Magnite auction end:",e),u.latestAuction=e}));var o=(null===(n=u.iframeWindow)||void 0===n?void 0:n.pbjs.getConfig("rubicon"))||{};o.fpkvs=u.rubiconConfig,null===(i=u.iframeWindow)||void 0===i||i.pbjs.setConfig({rubicon:o}),e()}})),u.iframeWindow.googletag=u.iframeWindow.googletag||{},u.iframeWindow.googletag.cmd=u.iframeWindow.googletag.cmd||[],u.iframeWindow.googletag.cmd.push((function(){var e,t,n,i,o,r,a,s,c,l=u.rubiconConfig.channel_id;null===(e=u.iframeWindow)||void 0===e||e.googletag.pubads().setTargeting(w.JA.CHANNEL_ID,l),null===(t=u.iframeWindow)||void 0===t||t.googletag.pubads().setTargeting(w.JA.DOMAIN,(0,p.Z_)()),null===(n=u.iframeWindow)||void 0===n||n.googletag.pubads().setTargeting(w.JA.SDK_VERSION,"1.0.91"),null===(i=u.iframeWindow)||void 0===i||i.googletag.pubads().setTargeting(w.JA.FEED,(0,p.y1)()),null===(o=u.iframeWindow)||void 0===o||o.googletag.pubads().disableInitialLoad(),null===(r=u.iframeWindow)||void 0===r||r.googletag.pubads().enableSingleRequest(),null===(a=u.iframeWindow)||void 0===a||a.googletag.pubads().enableAsyncRendering(),null===(s=u.iframeWindow)||void 0===s||s.googletag.pubads().collapseEmptyDivs(!0),null===(c=u.iframeWindow)||void 0===c||c.googletag.enableServices()}));var o=function(e,t){var n;null===(n=u.iframeWindow)||void 0===n||n.apstag._Q.push([e,t])};u.iframeWindow.apstag=u.iframeWindow.apstag||{init:function(){o("i",arguments)},fetchBids:function(){o("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]};var r,a={adServer:"googletag",bidTimeout:1600,gdpr:{cmpTimeout:8e3},params:{us_privacy:""},pubID:"f67fb912-2d88-4326-8009-bd2154299562"};if("function"==typeof(null===(n=window.top)||void 0===n?void 0:n.__uspapi))null===(r=window.top)||void 0===r||r.__uspapi("getUSPData",1,(function(e,t){var n;t&&(a.params.us_privacy=e.uspString),null===(n=u.iframeWindow)||void 0===n||n.apstag.init(a)}));else u.iframeWindow.apstag.init(a)}else(0,g.ur)("Magnite iframe is not loaded")},n.appendChild(u.magniteIsolatedIframe)}else(0,g.ur)("Magnite there is no container for buildIframe ".concat(u.elementId))})));case 1:case"end":return e.stop()}}),e)})))),(0,c.Z)(this,"load",function(){var e=(0,a.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.elementId=t,(0,g.f_)("Monetization display Magnite - loading Magnite with the following config",u.settings),u.magniteIsolatedIframe){e.next=5;break}return e.next=5,u.buildIframe();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,c.Z)(this,"waitToAdServe",function(){var e=(0,a.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.magniteIsolatedIframe,e.abrupt("return",new Promise((function(e,i){if(u.dfp){var o,s=u.elementId;(0,g.f_)("Monetization display Magnite - loading GAM bidder ".concat(s)),null===(o=u.iframeWindow)||void 0===o||o.googletag.cmd.push((function(){var o,c=u.getLatestWonBid;null===(o=u.iframeWindow)||void 0===o||o.googletag.pubads().addEventListener(w.qT.SLOT_RENDER_ENDED,function(){var o=(0,a.Z)(l().mark((function o(a){var m,p,v,h,b,w,I,_,E,Z,D;return l().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if((0,g.f_)("Monetization display Magnite SLOT_RENDER_ENDED  ".concat(a.slot.getSlotElementId()),a),t===a.slot.getSlotElementId()){o.next=3;break}return o.abrupt("return");case 3:if(!a.isEmpty){o.next=9;break}return null==n||n.setAttribute("height","0"),null==n||n.setAttribute("width","0"),(0,g.f_)("in unit display sizes - rejected and now its 0 ".concat(s)),i(new f.Z(d.Z.NO_AD_SERVED,"Gpt - no ad served",a)),o.abrupt("return");case 9:p=Array.isArray(a.size)?null!==(m=a.size)&&void 0!==m?m:["auto","auto"]:a.size.split("x"),v=(0,r.Z)(p,2),h=v[0],b=v[1],null==n||n.setAttribute("width","".concat(h)),null==n||n.setAttribute("height","".concat(b)),w=c(),I=Boolean((h<=1||b<=1)&&w),(0,g.f_)("in unit display sizes - width Raw-".concat(h," height Raw-").concat(b," ").concat(s," ")),_=I?[null==w?void 0:w.width,null==w?void 0:w.height]:[h,b],E=(0,r.Z)(_,2),Z=E[0],D=E[1],(0,g.f_)("in unit display sizes - width-".concat(Z," height-").concat(D," ").concat(s)),null==n||n.setAttribute("width","".concat(Z)),null==n||n.setAttribute("height","".concat(D)),e({callback:u,event:y(y({},a),{},{bidder:I?null==w?void 0:w.bidder:"DFP"})});case 20:case"end":return o.stop()}}),o)})));function u(e){return o.apply(this,arguments)}return u}())}))}else{var c;null===(c=u.iframeWindow)||void 0===c||c.pbjs.que.push((function(){var t;null===(t=u.iframeWindow)||void 0===t||t.pbjs.onEvent("bidWon",(function t(n){(0,g.f_)("Magnite bidWon:",n),e({callback:t,event:n})}))}))}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,c.Z)(this,"getLatestWonBid",(function(){var e;if(u.latestAuction)return(null!==(e=u.latestAuction.bidsReceived)&&void 0!==e?e:[]).sort((function(e,t){return t.cpm-e.cpm}))[0]})),(0,c.Z)(this,"requestBids",(function(){var e;null===(e=u.iframeWindow)||void 0===e||e.pbjs.que.push((function(){var e;null===(e=u.iframeWindow)||void 0===e||e.pbjs.ppi.requestBids([{hbInventory:y({values:{name:u.magniteDivId},type:u.isSlotPath?"AUPSlotPath":"AUPDivID"},u.sizes?{sizes:u.sizes}:{}),hbSource:{type:"auction",values:{amazonEnabled:!0}},hbDestination:{type:"".concat(u.dfp?"gpt":"page"),values:{div:u.elementId}}}])}))})),(0,c.Z)(this,"waitForImpression",(0,a.Z)(l().mark((function e(){var t,n,i,o,r,a,s,c,g,m,p,v,h;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.requestBids(),e.next=3,u.waitToAdServe(u.elementId);case 3:if(a=e.sent,!u.dfp){e.next=10;break}return g=a.callback,m=a.event,null===(s=u.iframeWindow)||void 0===s||s.googletag.cmd.push((function(){u.iframeWindow&&(u.iframeWindow.googletag.pubads().removeEventListener(w.qT.SLOT_RENDER_ENDED,g),u.iframeWindow.removeEventListener(w.qT.SLOT_RENDER_ENDED,g))})),p=u.getLatestWonBid(),e.abrupt("return",{cpm:null!==(c=null==p?void 0:p.cpm)&&void 0!==c?c:"0.01",bidder:m.bidder});case 10:if(v=a.callback,h=a.event,null===(t=u.iframeWindow)||void 0===t||t.googletag.cmd.push((function(){var e;u.iframeWindow&&(null===(e=u.iframeWindow)||void 0===e||e.pbjs.que.push((function(){var e;null===(e=u.iframeWindow)||void 0===e||e.pbjs.offEvent("bidWon",v)})))})),null===(n=u.magniteIsolatedIframe)||void 0===n||n.setAttribute("height","".concat(null!==(i=null==h?void 0:h.height)&&void 0!==i?i:0," ")),null===(o=u.magniteIsolatedIframe)||void 0===o||o.setAttribute("width","".concat(null!==(r=null==h?void 0:h.width)&&void 0!==r?r:0)),h){e.next=17;break}throw new f.Z(d.Z.NO_AD_SERVED,"Magnite - no ad served",u.settings);case 17:return e.abrupt("return",{cpm:h.cpm,bidder:h.bidder});case 18:case"end":return e.stop()}}),e)})))),(0,c.Z)(this,"destroy",(function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=u.dfp,o=u.iframeWindow,r=u.magniteIsolatedIframe,a=u.elementId,s=u.magniteDivId;null!=o&&o.pbjs&&o.pbjs.removeAdUnit(a),i&&(null==o||o.googletag.cmd.push((function(){null==o||o.googletag.destroySlots([s]),null==o||o.googletag.pubads().clear(a)})));var c=null===(t=r.contentDocument.documentElement)||void 0===t?void 0:t.querySelector("#".concat(a));c&&n?c.innerHTML="":null!=r&&r.remove&&(r.remove(),u.magniteIsolatedIframe=void 0)})),this.settings=n;var v,h=n.adSlotName,b=n.dfp,I=n.isSlotPath,E=n.sizes,Z=n.providerReportData;this.scriptUrl="".concat(i.SCRIPT_URL).concat(i.ACCOUNT_ID,".js").concat((v=_())?"?subid1=".concat(v):""),this.googleTagUrl=i.GPT_URL,this.amazonTagUrl=i.AMAZON_URL,this.magniteDivId=h,this.dfp=b,this.isSlotPath=I,E&&(this.sizes=E);var D=t.getModel();this.rubiconConfig=y({subid1:_(),article_url:m.Z.canonicalUrl,os:m.Z.operatingSystem,browser:m.Z.browser,browser_version:null===(o=navigator)||void 0===o?void 0:o.userAgent,channel_id:t.publisherId,engine:t.engineName||"",apester_unit_type:null==D?void 0:D.embedType,sdk_version:"1.0.91",interaction_id:t.interactionId},Z)}}}]);