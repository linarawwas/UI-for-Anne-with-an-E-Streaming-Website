(self.webpackChunkapester_sdk=self.webpackChunkapester_sdk||[]).push([[523,10],{2125:function(e,t,n){"use strict";n.r(t);n(2419);var i=n(2137),r=n(9351),a=n(484),o=n(6610),s=n(5991),d=n(3349),c=n(379),l=n(6070),u=n(7608),p=n(6156),v=n(7757),f=n.n(v),h=(n(6992),n(1539),n(8783),n(3948),n(285),n(4747),n(9720),n(9714),n(9826),n(9655)),m=n(6642),y=n(8918),g=n(6399),b=n(967),I=n(6092),A=n(709),Z=n(7667),k=n(808),_=n(478);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,l.Z)(this,n)}}var w=function(e){(0,c.Z)(l,e);var t,n=P(l);function l(e,t){var i;return(0,o.Z)(this,l),i=n.call(this),(0,p.Z)((0,d.Z)(i),"model",void 0),(0,p.Z)((0,d.Z)(i),"attrs",void 0),(0,p.Z)((0,d.Z)(i),"items",void 0),(0,p.Z)((0,d.Z)(i),"publisher",void 0),(0,p.Z)((0,d.Z)(i),"publisherId",void 0),(0,p.Z)((0,d.Z)(i),"interactionId",void 0),(0,p.Z)((0,d.Z)(i),"engineName",void 0),(0,p.Z)((0,d.Z)(i),"instanceId",void 0),(0,p.Z)((0,d.Z)(i),"lang",void 0),(0,p.Z)((0,d.Z)(i),"publisherToken",void 0),(0,p.Z)((0,d.Z)(i),"loader",void 0),(0,p.Z)((0,d.Z)(i),"iframe",void 0),(0,p.Z)((0,d.Z)(i),"container",void 0),(0,p.Z)((0,d.Z)(i),"wrapper",void 0),(0,p.Z)((0,d.Z)(i),"linkedInteraction",void 0),(0,p.Z)((0,d.Z)(i),"type",(0,a.Z)(l)),(0,p.Z)((0,d.Z)(i),"isFullscreen",!1),(0,p.Z)((0,d.Z)(i),"eventsTracker",void 0),i.attrs=e,i.instanceId=Z.Z.id(),i.publisherToken=e.publisherToken,i.items=[],i.loader=A.Z.create(m.gw.STRIP),i.iframe=i.generateIFrame(),i.wrapper=i.generateWrapper(),i.container=t,i.container.style.margin="".concat((0,I.m)(i.attrs.margin),"px auto"),i.eventsTracker=i.createEventsTracker(m.gw.STRIP,e.isSandboxMode),i.eventsTracker.sendPosition(),i}return(0,s.Z)(l,[{key:"setStripModel",value:function(e){var t;this.model=e,this.publisherId=e.publisherId,null===(t=this.getEventTracker())||void 0===t||t.setPublisherId(e.publisherId),this.onMediaLoaded()}},{key:"getEventTracker",value:function(){return this.eventsTracker}},{key:"generateSourceUrl",value:function(){var e=this.attrs,t=e.publisherToken,n=e.isPreview,i=e.style,a=e.headerText,o=new URL("".concat("https://faststrip.apester.com"));return"true"===n&&o.searchParams.append("isPreview",n),o.searchParams.append("token",t),o.searchParams.append("instanceId",this.instanceId),o.searchParams.append("sessionId",k.Z.sessionId),o.searchParams.append("canonicalUrl",k.Z.canonicalUrl),o.searchParams.append("headerText",decodeURIComponent(a||"")),Object.entries(i).forEach((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];o.searchParams.append(n,i)})),o}},{key:"generateIFrame",value:function(){var e=document.createElement("iframe");return e.setAttribute("title","Apester - Interactive content"),e.setAttribute("frameborder","0"),e.setAttribute("allowtransparency","true"),e.setAttribute("id","fast-strip"),e.classList.add("apester-layer-fill"),e.src=this.generateSourceUrl().toString(),e}},{key:"generateWrapper",value:function(){var e=document.createElement("apester-layer");return e.classList.add("apester-layer","strip-layer"),e.appendChild(this.loader),e.appendChild(this.iframe),e}},{key:"removeLoader",value:function(){this.loader.classList.add("apester-hidden")}},{key:"setHeight",value:function(e){this.container.style.height="".concat(e,"px"),this.wrapper.style.height="".concat(e,"px")}},{key:"setPublisher",value:function(e){this.publisher=e}},{key:"setItems",value:function(e){this.items=e}},{key:"loadInteraction",value:(t=(0,i.Z)(f().mark((function e(t,n){var i,r,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={interactionId:t,inative:!1,playlist:!1,instanceId:this.instanceId,stripItems:this.items,manualTop:this.attrs.manualTop,manualTopMobile:this.attrs.manualTopMobile,manualTopDesktop:this.attrs.manualTopDesktop,adUnit:this.attrs.adUnit,partner:this.attrs.partner,autoFullScreen:!0,isResultsScreen:!1,loader:!1},a=null!==(i=this.items.find((function(e){return e.interactionId===t})))&&void 0!==i?i:this.items[0],o=new b.Z(a,r,null,this.eventsTracker),this.linkedInteraction=o,o.disappear(),document.body.appendChild(o.wrapper),o.load(),h.Z.Register(new g.Z(o,n)),this.linkedInteraction=o;case 9:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"openInteraction",value:function(e){var t;null!==(t=this.linkedInteraction)&&void 0!==t&&t.iframe.contentWindow?(this.linkedInteraction.appear(),this.linkedInteraction.fullscreen(!1),this.linkedInteraction.sendMessage(e)):(0,_.f_)("158")}},{key:"fullscreen",value:function(e){this.linkedInteraction?(this.isFullscreen=!0,this.linkedInteraction.fullscreen(e)):(0,_.f_)("158")}},{key:"minimize",value:function(e){this.linkedInteraction?(this.isFullscreen=!1,this.linkedInteraction.minimize(e),this.linkedInteraction.disappear()):(0,_.f_)("158")}},{key:"close",value:function(){this.iframe.remove()}},{key:"getModel",value:function(){return this.model}},{key:"sendMessage",value:function(e){var t;null!==(t=this.iframe)&&void 0!==t&&t.contentWindow&&this.iframe.contentWindow.postMessage(e,"*")}}]),l}(y.Z);t.default=w},9512:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ct}});var i=n(9351),r=n(2137),a=n(6610),o=n(6156),s=(n(1539),n(8674),n(6992),n(8783),n(3948),n(7757)),d=n.n(s),c=n(5991),l=(n(4747),n(2222),n(7941),n(2526),n(7327),n(5003),n(9337),n(2125)),u=(n(2479),n(531)),p=n(808),v=n(967),f=function(e){return e instanceof v.Z?e:e instanceof l.default?e.linkedInteraction:void 0},h=function(e){return e instanceof l.default},m=n(5708),y=n(8659),g=n(4119);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A={da:"companion",da_below:"companion_below",va:"companion",va_below:"companion_below"},Z=function(e){return"companion"===e?"above":"below"},k=function(e){return e/g.q4},_=function(e){var t=(e.data||{}).size;return(p.Z.isMobile?t.mobile:t.desktop)||t},P=function(e){var t,n,i,r,a=null===(t=f(e))||void 0===t?void 0:t.getModel(),o=_(a).width,s=e.wrapper.parentElement,d=s?s.getBoundingClientRect().width:o,c=e.wrapper.getBoundingClientRect().width;return i=Math.min(o,d,c),e.isFullscreen&&!h(e)&&(i=p.Z.isMobile?window.innerWidth:c),"custom"===(null===(n=f(e))||void 0===n?void 0:n.engineName)&&(i=Math.max(i,p.Z.isMobile?g.dv:g.iG)),i&&0!==i||(i=g.w2,r=k(i)),r&&0!==r||(r=k(i)),{width:i,height:k(i)}},w=function(e,t){return e&&t.enabledOnStrip&&t.stripAUC};var D,C,E=function(e,t,n){var i=t||{},r=i.companionOptions,a=i.countryData,o=r||{},s=o.video,d=o.consentConfigurations,c=s||{},l=c.playerOptions,p=c.additionalSlot;if(l){var v=s.enabled,f=s.companion,h=s.companion_below,y=s.floating;if(v){var g=l.aniviewChannelId,b=l.aniviewPlayerId,k=(f||{}).enabled,_=(h||{}).enabled,w=(y||{}).enabled;if(k||_||w){var D=function(e,t){var n="below";return e&&(n="above"),t&&(n="floating"),n}(k,w),C=g,E=b,x=s.videoTag;if(p&&p.location===A[n]&&Object.keys(p).length>1)C=p.videoTag,x=p.videoTag,E=p.aniviewPlayerId,D=Z(p.location);else if(!w&&Z(A[n])!==D)return;var O=s.provider,S={type:O,adSize:P(e),playerId:E,loadAdOn:(0,m.l7)(s),videoTag:x,channelId:C,countryData:a,playerOption:s,consentConfig:d,companionPosition:D};if(O===u.Z.ANIVIEW_MULTI_PLAYERS){var L=l.aniviewPlayerId2,T=l.aniviewPlayerId3,R=l.aniviewPlayerId4,N=l.aniviewChannelId2,M=l.aniviewChannelId3,V=l.aniviewChannelId4;return I(I({},S),{},{playerId2:L,playerId3:T,playerId4:R,channelId2:N,channelId3:M,channelId4:V})}return S}}}},x=function(e,t){var n,i=((t||{}).companionOptions||{}).video,r=void 0===i?{}:i;return n={},(0,o.Z)(n,y.Z9.VA,E(e,t,y.Z9.VA)),(0,o.Z)(n,y.Z9.VA_BELOW,r.floating&&r.floating.enabled?void 0:E(e,t,y.Z9.VA_BELOW)),n},O=function(e,t){var n=t||{},i=n.companionOptions,r=n.companionLeftOptions,a=n.companionRightOptions,o=n.countryData,s=n.providerReportData,d={};return Object.values(y.Z9).forEach((function(t){var n,c;d[t]=void 0,t===y.Z9.DA_LEFT?c=r:t===y.Z9.DA_RIGHT?c=a:t!==y.Z9.DA&&t!==y.Z9.DA_BELOW||(c=i);var l=(null===(n=c)||void 0===n?void 0:n.settings)||{},u=c||{},p=u.enabled,v=u.enabledOnStrip,f=u.enabledAdCompete,b=u.headerBidding,Z=u.consentConfigurations,k=u.additionalSlot,_=u.isSimulation,P=p&&v&&h(e);if(p||P){var D,C,E=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.headerBidding;return(null==n?void 0:n.bidders)&&(null==n?void 0:n.gpt)&&"headerBidding"===(null==t||null===(e=t.settings)||void 0===e?void 0:e.bannerAdProvider)}(c)?c.headerBidding.gpt.path:function(e,t){var n;return(null===(n=e.container)||void 0===n?void 0:n.getAttribute("adunit"))||(w(h(e),t)?t.stripAUC:t.settings.slot)}(e,c);if(t===y.Z9.DA||t===y.Z9.DA_BELOW)if(k&&k.location===A[t]&&Object.keys(k).length>1)l=I(I({},l),k),E=k.adSlotName;else if((null===(D=l)||void 0===D||null===(C=D.options)||void 0===C?void 0:C.displayCompanionLocation)!==A[t])return;var x=l,O=x.dfp,S=x.options,L=x.auctionCode,T=x.adSlotName,R=x.isSlotPath,N=x.bannerSizes,M=x.bannerSizesStrip,V=x.bannerAdProvider,z=(b||{}).bidders,F=(0,m.l7)(S),U=S.refreshOnClick,B=S.autoRefresh,j=S.autoRefreshTime,q="none"!==U,Y={refreshOnClick:q,refreshTime:B&&!q?Math.max(15e3,j):void 0,lockTime:5e3},W=w(h(e),c)?M:N,G=h(e)?g.Pf:g.Jb,H={dfp:O,type:V.toLowerCase(),sizes:W,gptPath:E,bidders:z,loadAdOn:F,auctionCode:L,adSlotName:T,isSlotPath:R,enabledAdCompete:f,countryData:o,playerOption:c,consentConfig:Z,collapseEmptyDiv:!0,companionRefresh:Y,headerBiddingSize:G,isSimulation:_,providerReportData:s};d[t]=H}})),d},S=function(e,t){var n,i,r;return e&&(null===(n=e[t])||void 0===n?void 0:n.isSimulation)&&(null===(i=e[t].playerOption)||void 0===i||null===(r=i.settings)||void 0===r?void 0:r.bannerSizes)},L=(n(9826),function(e){var t,n,i,r,a;return{midRollSettings:{type:null!==(t=null==e?void 0:e.loadAdOn)&&void 0!==t?t:y.dI.LOAD,configuration:null!==(n=null==e?void 0:e.loadAdOnProps)&&void 0!==n?n:{}},preRollSettings:{type:null!==(i=null==e||null===(r=e.preroll)||void 0===r?void 0:r.loadAdOn)&&void 0!==i?i:y.dI.LOAD,configuration:null==e||null===(a=e.preroll)||void 0===a?void 0:a.loadAdOnProps}}}),T=function(e,t){var n=e.player.type===t,i=e.requests.find((function(e){return"idle"===e.type}));return i?{maxAds:i.options.count,requestTimeout:i.options.timeout,skipTimer:i.options.skipTimer}:{maxAds:n?1:5,requestTimeout:n?30:10}},R=function(e,t){var n=T(e,t);return{maxAds:n.maxAds,requestTimeout:n.requestTimeout,numOfRequests:0,skipTimer:n.skipTimer}},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=(0,m.tF)(t,e,n);return i.classList.add("in-unit"),i},M=function(e,t){return e.find((function(e){return e.shouldExtractFromUnit&&e.player.type===t}))},V=function(e,t){var n=t.playerOptions,i=t.videoCampaignOptions,r=t.countryData,a=t.providerReportData;if(n){var o=M(n,y.Z9.DA),s=o||{},d=s.player,c=s.timeInView,l=(d||{}).provider||{},u=l.options,v=l.type;if(v){var h=L(o),m=1e3*(c||8),g=u||{},b=g.auctionCode,I=g.dfp,A=g.size,Z=g.bidders,k=g.adSlotName,P=g.isSlotPath,w=function(e,t){var n,i=null===(n=e.container)||void 0===n?void 0:n.getAttribute("adunit");if(i)return i;var r=t.bidders&&t.gpt?t.gpt.path:null,a=f(e).getModel(),o=_(a).height,s=t.path,d=t.interstitialPath;return p.Z.isMobile&&o>=480&&d?d:s||r}(e,u),D=R(o,y.Z9.DA),C=i.consentConfigurations;return{dfp:I,idle:D,type:v.toLowerCase(),sizes:A,gptPath:w,bidders:Z,loadAdOn:h,adSlotName:k,isSlotPath:P,timeInView:m,countryData:r,auctionCode:b,playerOption:o,consentConfig:C,headerBiddingSize:[[300,250]],adPlacement:y.ZD.IN_UNIT,providerReportData:a}}}},z=function(e,t){var n=t||{},i=n.playerOptions,r=n.videoCampaignOptions,a=n.countryData;if(i){var o=M(i,y.Z9.VA);if(o){var s=o.player.provider,d=s.type,c=s.options,l=c.aniviewChannelId,u=c.aniviewPlayerId,p=c.playerId,v=L(o),f=l,h=u||p,m=p,g=P(e);return{type:d,idle:R(o,y.Z9.VA),adSize:g,loadAdOn:v,playerId:h,videoTag:m,channelId:f,countryData:a,consentConfig:r.consentConfigurations,playerOption:o}}}},F=n(7667),U=n(4585),B=n(1168),j=n(478),q=(n(6699),["5f22a068350c9cabe1eb443e","5ad092c7e16efe17aa4fb822","5de7851072793266fd04a0ce","5d8488205f9d7beb2b9f9fcf","5d8488892853884ab8e400e3","5d8488cd4625b3568f5f15e5","5d8489314644baefe5491828","5d84898c5f9d7b34899f9fd1","5d8489d44644ba54d949182a","5d848a625f9d7b299c9f9fd3","5d848a9a4644ba7c3349182c","5d848ae34625b31bbd5f15ea","5e2597979915bfea17104606","58c551f76a67357e3b4aa944"]);!function(e){e.AD_IN="Ad in",e.UP_NEXT="Up next",e.SKIP="Skip",e.SKIP_AD_IN="Skip ad in"}(D||(D={})),function(e){e.AD_IN="Anzeige in",e.UP_NEXT="Es folgt",e.SKIP="Überspringen",e.SKIP_AD_IN="Werbung überspringen in"}(C||(C={}));var Y=function(e,t){return q.includes(e)||"de"===t?C:D},W=n(7602),G=n.p+"./assets/iconRightArrow.svg",H="in-unit",K="in-unit-logo",X="background",J="active",Q="in-unit-icon",$="strip",ee="embed",te="in-unit-teaser",ne="teaser-title",ie="teaser-text",re="in-unit-container",ae="in-unit-content",oe="in-unit-footer",se="footer-content",de="skip",ce="skip-timer-active",le=50,ue=40,pe=40,ve="skip_text",fe="skip_counter",he="skip_counter_text",me="skip_counter_number",ye=function(){var e=(0,r.Z)(d().mark((function e(t){var n,i,r,a=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:10,i=t.querySelector("#".concat(me)),t&&i){e.next=4;break}return e.abrupt("return");case 4:t.classList.add(ce),r=n;case 6:if(!(r>0)){e.next=14;break}return i.innerHTML="".concat(r),e.next=10,(0,W.Vs)(1e3);case 10:1===r&&(t.classList.remove(ce),i.innerHTML="");case 11:r--,e.next=6;break;case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=(n(9714),n.p+"./assets/logoWhite.svg"),be=function(e){return"in_unit_footer_".concat(e.toString())},Ie=function(e,t,n){var i=document.createElement("img");i.alt="Apester Logo",i.src=ge,i.classList.add(H,K);var r=N([oe],"div",be(t));r.style.setProperty("height","".concat(le,"px"));var a=N([oe,X]);r.appendChild(a);var o=N([se]),s=N([oe,te]);o.appendChild(s),r.appendChild(o);var d=N([oe,ne]),c=e.UP_NEXT;d.innerHTML=c,s.appendChild(d);var l,u,p=N([oe,ie]);return p.innerHTML=(l=n,(u=document.createElement("span")).innerHTML=l,u.textContent||u.innerText),s.appendChild(p),o.appendChild(i),r},Ae=function e(t,n,i){var r=n.startTime,a=n.progressTime;requestAnimationFrame((function(n){var o=r||n,s=n-o;s<a?(t.style.setProperty("transform","translateX(-".concat(100-s/a*100,"%)")),e(t,{startTime:o,progressTime:a},i)):i()}))},Ze=function(e,t){return new Promise((function(n,i){if(!e)return i(new Error("progressBarIndicator is undefined"));Ae(e,t,(function(){return n()}))}))},ke="monetization-display-container",_e="monetization-video-container",Pe=function(e,t,n,i){var r=N([re],"div",t===y.Z9.DA?ke:_e),a=N([ae],"div"),o=N([ee],"div"),s="calc(100% - ".concat(ue,"px)");o.style.setProperty("max-height",s);var d=(0,m.Ye)(o,function(e,t){return"in-unit-".concat(t,"-player-").concat(e)}(e,t));a.appendChild(o);var c=function(e,t){var n=N([de],"div","in_unit_skip_".concat(t));n.style.setProperty("height","".concat(ue,"px"));var i=N([ve],"span",ve),r=e.SKIP;if(i.innerHTML="".concat(r),n.appendChild(i),t===y.Z9.VA){var a=N([fe],"div",fe),o=N([he],"span",he),s=N([me],"span",me),d=e.SKIP_AD_IN;o.innerHTML="".concat(d),a.appendChild(o),a.appendChild(s),n.appendChild(a)}var c=document.createElement("img");return c.classList.add(H,Q),c.src=G,c.alt="arrow",n.appendChild(c),n}(n,t);a.appendChild(c);var l,u=Ie(n,t,i);if(a.appendChild(u),r.appendChild(a),t===y.Z9.DA){var p=function(){var e=N(["progress-bar"]),t=N(["progress-indicator"]);return e.appendChild(t),{progressBar:e,indicator:t}}(),v=p.progressBar;l=p.indicator,r.appendChild(v)}return{adContainer:r,embedElement:d,indicatorProgressBar:l}},we=function(e){var t=null==e?void 0:e.querySelector(".".concat(de));if(t)return new Promise((function(e){t.onclick=function(){return e({adSkipped:!0})}}))},De=function(e,t,n,i,r,a){t.classList.add(J);var o=t.querySelector(".".concat(de));if(o&&ye(o,a),e){t.classList.add($);var s=parseInt(n.iframe.style.getPropertyValue("max-width"),10),d=parseInt(n.iframe.style.getPropertyValue("height"),10);t.style.setProperty("width","".concat(s,"px")),t.style.setProperty("height","".concat(d,"px")),t.style.setProperty("left","calc(50% - ".concat(s/2,"px)"))}else!function(e,t,n){if(!(e.getBoundingClientRect().height-t.getBoundingClientRect().height-ue-pe>=le)){var i=e.querySelector("#".concat(be(n)));null==i||i.remove(),e.style.setProperty("justify-content","center"),e.classList.add("short-unit")}}(t,i,r)},Ce="teaser_text",Ee="teaser_counter",xe=function(){var e=(0,r.Z)(d().mark((function e(t){var n,i,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.querySelector("#".concat(Ce)),i=t.querySelector("#".concat(Ee)),n&&i){e.next=4;break}return e.abrupt("return");case 4:r=3;case 5:if(!(r>0)){e.next=12;break}return i.innerHTML="".concat(r),e.next=9,(0,W.Vs)(1e3);case 9:r--,e.next=5;break;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(e,t){var n=N(["countdown"]),i=p.Z.isMobile?"65px":"80px";n.style.setProperty("top",i),t&&n.classList.add("fullscreen");var r=N([],"span",Ce),a=N(["countdown-counter"],"span",Ee),o=e.AD_IN;return r.innerHTML="".concat(o),n.appendChild(r),n.appendChild(a),n},Se=n(1272);function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Re="teaser-active",Ne=y.Z9.VA,Me=y.Z9.DA,Ve=function(){function e(t,n){var i=this;(0,a.Z)(this,e),(0,o.Z)(this,"videoProvider",void 0),(0,o.Z)(this,"displayProvider",void 0),(0,o.Z)(this,"campaignId",void 0),(0,o.Z)(this,"apesterElement",void 0),(0,o.Z)(this,"id",void 0),(0,o.Z)(this,"translation",void 0),(0,o.Z)(this,"videoContainer",void 0),(0,o.Z)(this,"embedVideoElementId",void 0),(0,o.Z)(this,"displayContainer",void 0),(0,o.Z)(this,"numberOfVideoImpressions",void 0),(0,o.Z)(this,"numberOfDisplayImpressions",void 0),(0,o.Z)(this,"interruptDisplayAdListeners",void 0),(0,o.Z)(this,"videoSettings",void 0),(0,o.Z)(this,"displaySettings",void 0),(0,o.Z)(this,"videoAdSize",void 0),(0,o.Z)(this,"firstVideoRequest",void 0),(0,o.Z)(this,"firstDisplayRequest",void 0),(0,o.Z)(this,"eventTracker",void 0),(0,o.Z)(this,"adFinishedListeners",[]),(0,o.Z)(this,"abTestReportData",void 0),(0,o.Z)(this,"onInterruptDisplayAd",(function(){i.interruptDisplayAdListeners.forEach((function(e){e()})),i.interruptDisplayAdListeners=[]})),(0,o.Z)(this,"waitForDisplayAdInterrupt",(0,r.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){i.interruptDisplayAdListeners.push((function(){return e()}))})));case 1:case"end":return e.stop()}}),e)})))),(0,o.Z)(this,"notifyMonetizationStateToPlayer",(function(e,t){e.sendMessage({type:t?"mon_start":"mon_end"})})),(0,o.Z)(this,"showCountdown",function(){var e=(0,r.Z)(d().mark((function e(t,n){var r,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.wrapper.getAttribute(Re),t.isUserEngaged&&!r&&!i.isAdActive(Me)&&!i.isAdActive(Ne)){e.next=3;break}return e.abrupt("return");case 3:return a=t.isFullscreen,o=Oe(n,a),t.wrapper.appendChild(o),t.wrapper.setAttribute(Re,"true"),e.next=9,xe(o);case 9:t.wrapper.removeAttribute(Re),o.remove();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,o.Z)(this,"isAdActive",(function(e){var t=e===Ne?i.videoContainer:i.displayContainer;return!!t&&t.classList.contains("active")})),(0,o.Z)(this,"resizeVideo",(function(e){i.videoAdSize=P(e),i.videoProvider.resize(i.videoAdSize)})),(0,o.Z)(this,"destroyAd",(function(){var e,t,n,r,a,o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=(null===(e=i.displayProvider)||void 0===e?void 0:e.shouldDestroyAdInsideLoop)&&!o,d=!(null!==(t=i.displayProvider)&&void 0!==t&&t.shouldDestroyAdInsideLoop)&&o;(s||d)&&(null===(n=i.displayProvider)||void 0===n||n.destroy(null===(r=i.displayContainer)||void 0===r?void 0:r.id,!(null!==(a=i.displayProvider)&&void 0!==a&&a.shouldRefreshContainerId())))})),(0,o.Z)(this,"killDisplayAd",(function(e,t){var n,r;i.onInterruptDisplayAd(),i.displayContainer&&(i.isAdActive(Ne)||i.notifyMonetizationStateToPlayer(e,!1),null!==(n=i.displayProvider)&&void 0!==n&&n.shouldDestroyAdInsideLoop&&i.destroyAd(),null!==(r=i.displayProvider)&&void 0!==r&&r.shouldRefreshContainerId()&&i.displayContainer.remove(),i.displayContainer.classList.remove("active"),i.trackEvent(B.C.PLAYER_MON_STOPPED,Me,void 0,void 0,t))})),(0,o.Z)(this,"killVideoAd",(function(e,t,n){if(i.videoContainer){t&&i.videoProvider.destroy(t,!0),i.videoContainer.classList.remove("active"),i.notifyMonetizationStateToPlayer(e,!1);var r="SKIP"===n?B.C.PLAYER_MON_SKIPPED:B.C.PLAYER_MON_STOPPED;i.trackEvent(r,Ne,void 0,void 0,n)}})),(0,o.Z)(this,"getLoadAdSettings",(function(e,t){var n=e.loadAdOn;return 0===t?n.preRollSettings:n.midRollSettings})),(0,o.Z)(this,"waitForBizCriteriaToLoad",function(){var e=(0,r.Z)(d().mark((function e(t,n,r){var a,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f(r),o=i.getLoadAdSettings(t,n),(0,j.f_)("Monetization inunit - waiting for biz criteria to load",o),e.next=5,(0,Se.Xg)(a.wrapper,o);case 5:return s=e.sent,e.next=8,(0,m.jS)(r,o);case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}()),(0,o.Z)(this,"killAdWhenVideoIsPlaying",(function(e){(0,j.f_)("Monetization - for ".concat(e.interactionId," in unit display - video ad is active, destroying display ad ")),(0,U.rp)(i.displayProvider.NAME)?(0,U.N9)():i.killDisplayAd(e,"VIDEO_AD_IN_BG")})),(0,o.Z)(this,"startDisplayNative",function(){var e=(0,r.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.isAdActive(Ne)){e.next=3;break}return i.killAdWhenVideoIsPlaying(t),e.abrupt("return");case 3:if((null==(n=i.getLoadAdSettings(i.displaySettings,0))?void 0:n.type)!==y.dI.VIEW){e.next=7;break}return e.next=7,(0,Se.bT)();case 7:i.displayProvider.initNativeAd(!1,"inUnit");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)(this,"startDisplayWeb",function(){var e=(0,r.Z)(d().mark((function e(t,n){var r,a,o,s,c,u,p,v,f,h,y,g,b,I,A,Z,k,_,P,w;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i.firstDisplayRequest=void 0===i.firstDisplayRequest,(0,j.f_)("Monetization - for ".concat(t.interactionId," in unit display - waiting for biz criteria to load")),e.next=5,i.waitForBizCriteriaToLoad(i.displaySettings,i.numberOfDisplayImpressions,n);case 5:return a=e.sent,i.displayContainer||i.displayProvider.shouldRefreshContainerId()||(o=t.getModel(),s=o.title,c=i.displayProvider.shouldRefreshContainerId()?F.Z.id():i.id,u=Pe(c,Me,i.translation,s),p=u.adContainer,i.displayContainer=p,t.wrapper.appendChild(i.displayContainer)),v=i.displayContainer.firstChild.firstChild.firstChild,f=i.displayContainer.lastChild,(0,j.f_)("Monetization - for ".concat(t.interactionId," in unit display - creating countdown indicator")),e.next=12,i.showCountdown(t,i.translation);case 12:if(!i.isAdActive(Ne)){e.next=17;break}return i.killAdWhenVideoIsPlaying(t),a(),i.adFinished(Me),e.abrupt("return");case 17:return i.trackEvent(B.C.PLAYER_MON_LOADING_PENDING,Me),(0,j.f_)("Monetization - for ".concat(t.interactionId," in unit display - loading the player ")),e.next=21,i.displayProvider.load(v.id,n);case 21:if((0,j.i9)("Monetization - for ".concat(t.interactionId," in unit display - loading player success ")),i.trackEvent(B.C.PLAYER_MON_LOADING_PASS,Me),!i.isAdActive(Ne)){e.next=28;break}return i.killAdWhenVideoIsPlaying(t),a(),i.adFinished(Me),e.abrupt("return");case 28:return h=n instanceof l.default,i.trackEvent(B.C.PLAYER_MON_IMPRESSION_PENDING,Me),(0,j.f_)("Monetization - for ".concat(t.interactionId," in unit display - sending an impression request")),e.prev=31,e.next=34,i.displayProvider.waitForImpression();case 34:return y=e.sent,g=y.bidder,b=y.cpm,e.next=39,(0,m.xO)(v.parentElement);case 39:e.sent?((0,j.i9)("Monetization - for ".concat(t.interactionId," in unit display - received an impression")),i.trackEvent(B.C.PLAYER_MON_IMPRESSION,Me,g,b),null==v||v.classList.add("de"===t.lang?"lang-de":"lang-en")):((0,j.ur)("In unit display ad is empty for ".concat(t.interactionId)),i.trackEvent(B.C.PLAYER_MON_LOADING_FAILED,Me),i.killDisplayAd(t,"RUNTIME_ERROR")),e.next=50;break;case 43:return e.prev=43,e.t0=e.catch(31),(0,j.ur)(e.t0.message),a(),i.adFinished(Me),i.killDisplayAd(t,"RUNTIME_ERROR"),e.abrupt("return");case 50:if(!i.isAdActive(Ne)){e.next=56;break}return(0,j.f_)("Monetization - for ".concat(t.interactionId," in unit display - video ad is active, destroying display ad ")),i.killAdWhenVideoIsPlaying(t),a(),i.adFinished(Me),e.abrupt("return");case 56:return(0,j.f_)("Monetization - for ".concat(t.interactionId," in unit display - removing loading indicator")),De(h,i.displayContainer,t,v,Me),i.trackEvent(B.C.PLAYER_MON_PLAYING,Me),i.notifyMonetizationStateToPlayer(t,!0),I=(null===(r=i.displaySettings)||void 0===r?void 0:r.timeInView)||8e3,Ze(f,{progressTime:I}),A=new Promise((function(e){var t=setTimeout((function(){clearTimeout(t),e()}),I)})),Z=we(i.displayContainer),k=i.waitForDisplayAdInterrupt(),(0,j.f_)("Monetization - for ".concat(t.interactionId," in unit display - waiting for ").concat(I," in view, or close button to be clicked")),e.next=68,Promise.race([A,Z,k]);case 68:_=e.sent,P=(_||{}).adSkipped,w=P?"END":"SKIP",(0,j.f_)("Monetization - for ".concat(t.interactionId," in unit display - ad finished playing due to ").concat(w)),i.killDisplayAd(t,w),a(),i.numberOfDisplayImpressions+=1,i.adFinished(Me),e.next=82;break;case 78:e.prev=78,e.t1=e.catch(0),i.killDisplayAd(t,"RUNTIME_ERROR"),(0,j.ur)(e.t1.message);case 82:case"end":return e.stop()}}),e,null,[[0,78],[31,43]])})));return function(t,n){return e.apply(this,arguments)}}()),(0,o.Z)(this,"startDisplay",function(){var e=(0,r.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f(t),i.displayProvider&&n){e.next=3;break}return e.abrupt("return");case 3:if(!(0,U.rp)(i.displayProvider.NAME)){e.next=7;break}return e.next=6,i.startDisplayNative(n);case 6:return e.abrupt("return");case 7:return e.next=9,i.startDisplayWeb(n,t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)(this,"startNativeVideo",(0,r.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null==(t=i.getLoadAdSettings(i.videoSettings,0))?void 0:t.type)!==y.dI.VIEW){e.next=4;break}return e.next=4,(0,Se.bT)();case 4:i.videoProvider.initNativeAd(!1,"inUnitVideo");case 5:case"end":return e.stop()}}),e)})))),(0,o.Z)(this,"startVideoWeb",function(){var e=(0,r.Z)(d().mark((function e(t){var n,r,a,o,s,c,u,p,v,h,m,y,g,b,I,A,Z,k,_;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=f(t),i.videoProvider&&s){e.next=4;break}return e.abrupt("return");case 4:return i.firstVideoRequest=void 0===i.firstVideoRequest,(0,j.f_)("Monetization - for ".concat(s.interactionId," in unit video - waiting for biz criteria to load")),e.next=8,i.waitForBizCriteriaToLoad(i.videoSettings,i.numberOfVideoImpressions,t);case 8:return c=e.sent,(0,j.i9)("Monetization - for ".concat(s.interactionId," in unit video - biz criteria met, loading...")),i.videoContainer||(u=s.getModel(),p=u.title,v=Pe(i.id,Ne,i.translation,p),h=v.adContainer,m=v.embedElement,i.videoContainer=h,i.embedVideoElementId=m.id,s.wrapper.appendChild(i.videoContainer)),(0,j.f_)("Monetization - for ".concat(s.interactionId," in unit video - creating countdown indicator")),e.next=14,i.showCountdown(s,i.translation);case 14:if(i.trackEvent(B.C.PLAYER_MON_LOADING_PENDING,Ne),(0,j.f_)("Monetization - for ".concat(s.interactionId," in unit video - loading video player and sending impression request")),!i.isAdActive(Me)){e.next=20;break}return(0,j.f_)("Monetization - for ".concat(s.interactionId," in unit video - waiting for display ad to finish..")),e.next=20,i.onAdFinished();case 20:return e.next=22,i.videoProvider.load(i.embedVideoElementId);case 22:return y=e.sent,(0,j.i9)("Monetization - for ".concat(s.interactionId," in unit video - finished loading video player")),i.trackEvent(B.C.PLAYER_MON_LOADING_PASS,Ne),i.trackEvent(B.C.PLAYER_MON_IMPRESSION_PENDING,Ne),e.next=28,i.videoProvider.waitForImpression();case 28:return null===(n=i.videoContainer.querySelector(".apester-ad-container"))||void 0===n||n.classList.add("de"===t.lang?"lang-de":"lang-en"),(0,j.i9)("Monetization - for ".concat(s.interactionId," in unit video - received impression")),(0,j.f_)("Monetization - for ".concat(s.interactionId," in unit video - ad finished playing, cleaning loading indicator..")),i.trackEvent(B.C.PLAYER_MON_IMPRESSION,Ne),i.isAdActive(Me)&&((0,j.f_)("Monetization - for ".concat(s.interactionId," in unit video - killing active display ad..")),i.killAdWhenVideoIsPlaying(s)),(0,U.N9)(),(0,j.f_)("Monetization - for ".concat(s.interactionId," in unit video - resizing video")),g=(null===(r=i.videoSettings)||void 0===r?void 0:r.idle)||{},b=g.skipTimer,De(t instanceof l.default,i.videoContainer,s,null===(a=i.videoContainer.firstChild)||void 0===a?void 0:a.firstChild,Ne,b),i.resizeVideo(t),i.trackEvent(B.C.PLAYER_MON_PLAYING,Ne),i.notifyMonetizationStateToPlayer(s,!0),I=we(i.videoContainer),A=i.videoProvider.play(y),e.next=44,Promise.race([A,I]);case 44:Z=e.sent,k="end"===Z?"END":"SKIP",(0,j.f_)("Monetization - for ".concat(s.interactionId," in unit video - video finished playing due to ").concat(k)),c(),(0,j.f_)("Monetization - for ".concat(s.interactionId," in unit video - destroying the video ad player")),i.killVideoAd(s,y,k),i.numberOfVideoImpressions+=1,i.adFinished(Ne),_=(null===(o=i.videoSettings)||void 0===o?void 0:o.playerOption)||{},_.useProviderSettings&&i.startVideoWeb(t),e.next=59;break;case 56:e.prev=56,e.t0=e.catch(0),(0,j.ur)(e.t0.message);case 59:case"end":return e.stop()}}),e,null,[[0,56]])})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)(this,"getCampaignId",(function(){return i.campaignId})),(0,o.Z)(this,"getReason",(function(e){return i.apesterElement.isUserEngaged?"MIDROLL":(e===Me?i.firstDisplayRequest:i.firstVideoRequest)?"IDLE":"IDLE_LOOP"})),(0,o.Z)(this,"replaceEventTracker",(function(e){i.eventTracker=e})),(0,o.Z)(this,"trackEvent",(function(e,t,n,r,a){var o,s,d=t===Me?i.displayProvider.NAME:i.videoProvider.NAME;if(t===Ne){var c=i.videoAdSize||{},l=c.width,u=c.height;s=l&&u?"".concat(l," x ").concat(u):void 0}var p=Te({reason:a||i.getReason(t),monSize:s,monType:d,monBidder:null!=n?"".concat(n):n,monProvider:t,videoCampaignId:i.campaignId,displayCustomParamFloat:null!=r?"".concat(r):r},i.abTestReportData);null===(o=i.eventTracker)||void 0===o||o.sendMonetizationEvent(e,p)})),this.id=F.Z.id(),this.numberOfVideoImpressions=0,this.numberOfDisplayImpressions=0,this.campaignId=n,this.interruptDisplayAdListeners=[],this.apesterElement=t,this.eventTracker=this.apesterElement.getEventTracker()}var t,n;return(0,c.Z)(e,[{key:"adFinished",value:function(e){e===y.Z9.VA&&(0,U.RO)(),this.adFinishedListeners&&(this.adFinishedListeners.forEach((function(t){t(e)})),this.adFinishedListeners=[])}},{key:"onAdFinished",value:(n=(0,r.Z)(d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.adFinishedListeners.push((function(t){e(t)}))})));case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"init",value:(t=(0,r.Z)(d().mark((function e(t){var n,i,r,a,o,s,c,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.apesterElement.getModel()){e.next=3;break}return e.abrupt("return");case 3:return i=n.language,r=n.campaignData,s=(o=a=t||r).testVideoCampaign,c=o.videoCampaignOptions,this.abTestReportData={a_b_test:s||"",apester_campaign_id:s&&null!=c&&c.originalVideoCampaignId?c.originalVideoCampaignId:"",custom1:s?y.YD.IS_A_B:""},l={a_b_test:s||"",apester_campaign_id:this.campaignId,ad_unit_position:Me},this.videoSettings=z(this.apesterElement,a),e.next=11,(0,m.VH)(Ne,this.videoSettings,this.apesterElement,this.campaignId);case 11:return this.videoProvider=e.sent,this.displaySettings=V(this.apesterElement,Te(Te({},a),{},{providerReportData:l})),e.next=15,(0,m.VH)(Me,this.displaySettings,this.apesterElement,this.campaignId);case 15:this.displayProvider=e.sent,this.translation=Y(this.apesterElement.publisher.publisherId,i);case 17:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),ze=n(2907);function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Be=function(){function e(t,n){var i=this;(0,a.Z)(this,e),(0,o.Z)(this,"provider",void 0),(0,o.Z)(this,"campaignId",void 0),(0,o.Z)(this,"apesterElement",void 0),(0,o.Z)(this,"containerId",void 0),(0,o.Z)(this,"container",void 0),(0,o.Z)(this,"settings",void 0),(0,o.Z)(this,"isCompanionVariant",void 0),(0,o.Z)(this,"isNativeAd",void 0),(0,o.Z)(this,"unfillCounter",0),(0,o.Z)(this,"eventTracker",void 0),(0,o.Z)(this,"displayRequests",0),(0,o.Z)(this,"monProvider",void 0),(0,o.Z)(this,"abTestReportData",void 0),(0,o.Z)(this,"increaseUnfill",(function(){i.unfillCounter+=1})),(0,o.Z)(this,"resetUnfill",(function(){i.unfillCounter=0})),(0,o.Z)(this,"postHasBottomAd",(function(e){if(i.provider&&!i.isCompanionVariant){var t={type:"has_bottom_ad",adHeight:50};e.sendMessage(t)}})),(0,o.Z)(this,"setFullscreen",(function(){var e,t;i.isNativeAd||(null===(t=i.container)||void 0===t||t.classList.add("fullscreen"));null===(e=i.container)||void 0===e||e.style.setProperty("display","block")})),(0,o.Z)(this,"removeFullscreen",(function(e){var t,n;i.isNativeAd||(null===(t=i.container)||void 0===t||t.classList.remove("fullscreen"));e&&(null===(n=i.container)||void 0===n||n.remove())})),(0,o.Z)(this,"getTriggerType",(function(){return i.displayRequests>1?"refresh":"start"})),(0,o.Z)(this,"waitForBizCriteriaToLoad",function(){var e=(0,r.Z)(d().mark((function e(t,n,i){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Se.Xg)(i,t);case 2:return r=e.sent,e.next=5,(0,m.jS)(n,t);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}()),(0,o.Z)(this,"getLoadAdSettings",(function(e){var t=i.settings.loadAdOn;return 0===e?t.preRollSettings:t.midRollSettings})),(0,o.Z)(this,"loadBottomAd",function(){var e=(0,r.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.isNativeAd){e.next=11;break}return i.containerId=i.provider.shouldRefreshContainerId()?F.Z.bottomAdContainerId():i.containerId,i.container=(r=!!i.isCompanionVariant,a=i.containerId,o=void 0,s=void 0,o=r?"companion-bottom-ad":"bottom-ad-container",s=(0,m.tF)("div",[o]),(0,m.Ye)(s,a),s),i.isCompanionVariant?t.wrapper.after(i.container):t.wrapper.appendChild(i.container),n=i.getLoadAdSettings(i.displayRequests),(0,j.f_)("Bottom ad loadAdSettings - ".concat(i.containerId),n),e.next=8,i.waitForBizCriteriaToLoad(n,i.apesterElement,i.container);case 8:(0,e.sent)(),(0,j.i9)("Bottom ad biz criteria to load is passed - ".concat(i.containerId));case 11:case"end":return e.stop()}var r,a,o,s}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)(this,"startWebBottomAd",function(){var e=(0,r.Z)(d().mark((function e(t){var n,r,a,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.trackEvent(B.C.PLAYER_MON_LOADING_PENDING),(0,j.f_)("Bottom ad waiting for provider to load - ".concat(i.containerId)),e.next=4,i.provider.load(i.containerId,t,!0);case 4:return(0,j.i9)("Bottom ad provider loaded - ".concat(i.containerId)),i.trackEvent(B.C.PLAYER_MON_LOADING_PASS),i.displayRequests+=1,i.trackEvent(B.C.PLAYER_MON_IMPRESSION_PENDING),(0,j.f_)("Bottom ad - waiting for impression"),e.next=11,i.provider.waitForImpression("bottom ad");case 11:return n=e.sent,r=n.bidder,a=n.cpm,e.next=16,(0,m.xO)(i.container);case 16:e.sent?((0,j.i9)("Bottom ad - received an impression"),i.trackEvent(B.C.PLAYER_MON_IMPRESSION,r,a),null===(o=i.container)||void 0===o||null===(s=o.firstElementChild)||void 0===s||s.classList.add("de"===t.lang?"lang-de":"lang-en")):((0,j.ur)("Bottom ad is empty - ".concat(i.containerId)),i.trackEvent(B.C.PLAYER_MON_LOADING_FAILED),i.killDisplayAd()),i.resetUnfill();case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)(this,"start",function(){var e=(0,r.Z)(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.provider){e.next=2;break}return e.abrupt("return");case 2:if(i.isCompanionVariant=(0,ze.u3)(n),i.postHasBottomAd(t),!i.isNativeAd){e.next=11;break}if((null==(r=i.getLoadAdSettings(i.displayRequests))?void 0:r.type)!==y.dI.VIEW){e.next=9;break}return e.next=9,(0,Se.bT)();case 9:return i.provider.initNativeAd(i.isCompanionVariant,"bottom"),e.abrupt("return");case 11:return e.abrupt("return",i.startWebBottomAd(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,o.Z)(this,"replaceEventTracker",(function(e){i.eventTracker=e})),(0,o.Z)(this,"killDisplayAd",(function(){var e;null===(e=i.provider)||void 0===e||e.destroy(i.containerId)})),(0,o.Z)(this,"trackEvent",(function(e,t,n){var r,a=(0,W.Yx)(Ue({monType:i.provider.NAME,monBidder:null!=t?"".concat(t):t,monProvider:i.monProvider,monTriggerType:i.getTriggerType(),videoCampaignId:i.campaignId,displayCustomParamFloat:null!=n?"".concat(n):n},i.abTestReportData));null===(r=i.eventTracker)||void 0===r||r.sendMonetizationEvent(e,a)})),this.containerId=F.Z.bottomAdContainerId(),this.campaignId=n,this.apesterElement=t,this.eventTracker=this.apesterElement.getEventTracker(),this.monProvider="da_bottom"}var t;return(0,c.Z)(e,[{key:"init",value:(t=(0,r.Z)(d().mark((function e(t){var n,i,r,a,o,s,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.apesterElement.getModel()){e.next=3;break}return e.abrupt("return");case 3:if(i=t||n.campaignData,a=(r=i||{}).bottomAdOptions,o=r.testVideoCampaign,s=r.videoCampaignOptions,a&&a.enabled){e.next=7;break}return e.abrupt("return");case 7:return this.abTestReportData={a_b_test:o||"",apester_campaign_id:o&&null!=s&&s.originalVideoCampaignId?s.originalVideoCampaignId:"",custom1:o?y.YD.IS_A_B:""},c={a_b_test:o||"",apester_campaign_id:this.campaignId,ad_unit_position:this.monProvider},this.settings=(0,ze.q5)(Ue(Ue({},i),{},{providerReportData:c})),e.next=12,(0,m.VH)(y.Z9.DA,this.settings,this.apesterElement,this.campaignId);case 12:this.provider=e.sent,this.isNativeAd=(0,U.rp)(this.settings.type);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),je=(n(1249),n(2023),"apester-companion-video");function qe(e,t){var n=e;n.classList.add("show");var r=(0,i.Z)(t,2),a=r[0],o=r[1];return n.style.width="".concat(a,"px"),n.style.height="".concat(o,"px"),n}function Ye(e){var t=e;t.classList.remove("show"),t.style.removeProperty("width"),t.style.removeProperty("height")}function We(e,t){var n;if(t)for(n in t)e.style.setProperty(n,t[n])}function Ge(e,t,n){var r=(0,i.Z)(n,2),a=r[0],o=r[1];if(e.style.height="".concat(o,"px"),e.querySelector("img"))return e;var s=document.createElement("img");return s.classList.add("backfill-image"),s.src=function(e,t,n){return"".concat("http://img.apester.com","/insecure/fit/").concat(2*t,"/").concat(2*n,"/ce/0/plain/").concat(encodeURIComponent(e))}(t,a,o),s.setAttribute("style","width: ".concat(a,"px; height: ").concat(o,"px;")),e.appendChild(s),e}function He(e,t){var n=document.createElement("div");if("floating"===e)return n.id=p.Z.isMobile?"apester-floating-video-mobile":"apester-floating-video",n;var i="".concat(je,"-").concat(e);return n.id=i,n.classList.add("companion","container-video"),t&&(0,m.Ye)(n,"".concat(i,"-").concat(t)),n}function Ke(e,t){return e.style.setProperty("margin","".concat(g.oN,"px auto ").concat(g.oN,"px")),We(e,t),e}var Xe=function(e,t,n){return Ke(He(t,e),n)},Je=function(e,t,n,i,r){return qe(Ge(Ke(function(e,t){var n=document.createElement("div");return n.id="".concat(je,"-").concat(t),n.classList.add("companion","video-player-container"),e.appendChild(n),e}(He(t),e),r),n,i),i)};function Qe(e,t){if(e.style.marginTop="".concat(g.oN,"px"),e.style.marginBottom="".concat(g.oN,"px"),t){var n=(0,i.Z)(t,2)[1];e.style.height="".concat(n,"px")}return e}var $e=function(e){var t=e.querySelector("img");t&&(t.style.opacity="0")},et=function(e){var t=e.querySelector("img");t&&(t.style.opacity="1")};function tt(e,t,n){var i="".concat("apester-companion-display","-").concat(t),r=(0,m.tF)("div",["companion","container-display","container-display-".concat(t)],i);return We(r,n),(0,m.Ye)(r,"".concat(i,"-").concat(e)),r}function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt={da:0,da_left:0,da_right:0,da_below:0,va:0,va_below:0},at=function(){function e(t,n,s){var c=this;(0,a.Z)(this,e),(0,o.Z)(this,"videoProvider",void 0),(0,o.Z)(this,"displayProvider",void 0),(0,o.Z)(this,"displayLeftProvider",void 0),(0,o.Z)(this,"displayRightProvider",void 0),(0,o.Z)(this,"campaignId",void 0),(0,o.Z)(this,"monetizationId",void 0),(0,o.Z)(this,"apesterElement",void 0),(0,o.Z)(this,"refreshOnClick",void 0),(0,o.Z)(this,"videoPlayers",void 0),(0,o.Z)(this,"settings",void 0),(0,o.Z)(this,"providers",void 0),(0,o.Z)(this,"containers",void 0),(0,o.Z)(this,"unfill",void 0),(0,o.Z)(this,"adRequests",void 0),(0,o.Z)(this,"firstRequests",void 0),(0,o.Z)(this,"adImpressions",void 0),(0,o.Z)(this,"adStyles",void 0),(0,o.Z)(this,"videoAdSize",void 0),(0,o.Z)(this,"eventTracker",void 0),(0,o.Z)(this,"belowBackfillImage",void 0),(0,o.Z)(this,"aboveBackfillImage",void 0),(0,o.Z)(this,"monProvider",void 0),(0,o.Z)(this,"awaitForVideoToFinish",void 0),(0,o.Z)(this,"awaitForDisplayToFinish",void 0),(0,o.Z)(this,"isDisplayAdDestroyed",void 0),(0,o.Z)(this,"isDisplayAdLoaded",void 0),(0,o.Z)(this,"asideAds",void 0),(0,o.Z)(this,"abTestReportData",void 0),(0,o.Z)(this,"checkAsideAdsPossibilityAndPrepareStyling",(function(){var e,t,n={hasLeftAd:!1,hasRightAd:!1},i=c.apesterElement.wrapper,r=i.querySelector("iframe"),a=r.offsetWidth,o=c.apesterElement.container.offsetWidth,s=S(c.settings,y.Z9.DA_LEFT)||(null===(e=c.settings[y.Z9.DA_LEFT])||void 0===e?void 0:e.sizes),d=s?s[s.length-1][0]:0,l=o>=g.rw+d+g.Dh,u=S(c.settings,y.Z9.DA_RIGHT)||(null===(t=c.settings[y.Z9.DA_RIGHT])||void 0===t?void 0:t.sizes),p=u?u[u.length-1][0]:0,v=o>=g.rw+(d?d+g.Dh:0)+p+g.Dh;if(!l&&!v)return n;var f=0,h=0,m=0,b=0;l&&d&&(f+=h=d+g.Dh,n.hasLeftAd=!0),v&&p&&(f+=m=p+g.Dh,n.hasRightAd=!0),(0,j.f_)("Checking aside ads possibility:",{apesterContainerWidth:o,asideAdsWidth:f,iframeWidth:a,leftAdWidth:d,rightAdWidth:p});var I=o-f-a;I<0?r.style.minWidth="".concat(o-f,"px"):b=I/2;var A="".concat(m+b,"px"),Z="".concat(h+b,"px"),k="0 ".concat(A," 0 ").concat(Z);return c.adStyles[y.Z9.DA_RIGHT]={right:"-".concat(m,"px"),"max-width":"".concat(p,"px"),width:"".concat(p,"px")},c.adStyles[y.Z9.DA_LEFT]={left:"-".concat(h,"px"),"max-width":"".concat(d,"px"),width:"".concat(d,"px")},c.adStyles[y.Z9.DA]={"max-width":"".concat(o-f-2*b,"px"),"margin-left":Z,"margin-right":A},c.adStyles[y.Z9.VA]={"max-width":"".concat(o-f-2*b,"px"),"margin-left":Z,"margin-right":A},i.setAttribute("style","margin: ".concat(k,"; width: ").concat(o-f-2*b,"px")),n})),(0,o.Z)(this,"checkAsideAdAndApesterElementHeights",(function(e){var t=c.apesterElement.wrapper.parentElement;t&&(e.offsetHeight>t.offsetHeight?t.style.minHeight="".concat(e.offsetHeight,"px"):t.style.height&&(t.style.height="null"))})),(0,o.Z)(this,"replaceEventTracker",(function(e){c.eventTracker=e})),(0,o.Z)(this,"increaseDisplayedCount",(function(e){c.adRequests[e]+=1})),(0,o.Z)(this,"increaseImpressionCount",(function(e){c.adImpressions[e]+=1})),(0,o.Z)(this,"increaseUnfill",(function(e){c.unfill[e]+=1})),(0,o.Z)(this,"resetUnfill",(function(e){c.unfill[e]=0})),(0,o.Z)(this,"attachCompanion",(function(e,t,n){var i,r=e instanceof l.default,a=r?e.container:e.wrapper;if(r||null==a||null===(i=a.parentElement)||void 0===i||!i.querySelector("#".concat(t.id)))if("below"===n||"floating"===n){var o;null==a||null===(o=a.parentElement)||void 0===o||o.append(t)}else{var s,d=r?e.container:e.wrapper;null==a||null===(s=a.parentElement)||void 0===s||s.insertBefore(t,d)}})),(0,o.Z)(this,"attachAsideCompanion",(function(e,t){e.wrapper.append(t)})),(0,o.Z)(this,"getLoadStrategy",(function(e){var t=c.attachCompanion;if(e===y.Z9.DA_LEFT||e===y.Z9.DA_RIGHT){var n;c.containers[e]=function(e,t,n){var i="".concat(e?"apester-companion-display-left":"apester-companion-display-right"),r=(0,m.tF)("div",["companion",e?"container-display-left":"container-display-right"],i);return We(r,n),(0,m.Ye)(r,"".concat(i,"-").concat(t)),r}(e===y.Z9.DA_LEFT,c.monetizationId,null===(n=c.adStyles)||void 0===n?void 0:n[e]),t=c.attachAsideCompanion}else{var r,a,o,s,d=c.settings[e].sizes,l=void 0===d?[]:d,u=e===y.Z9.DA?"above":"below";c.settings[e].displayAdLocation=u;var p="below"===u?c.belowBackfillImage:c.aboveBackfillImage,v=null!==(r=l.sort((function(e,t){return(0,i.Z)(e,2)[1]-(0,i.Z)(t,2)[1]}))[l.length-1])&&void 0!==r?r:[300,250];(a=c.containers)[e]||(a[e]=p?function(e,t,n,i,r){return Ge(Qe(tt(e,t,r),i),n,i)}(c.monetizationId,u,p,v,null===(o=c.adStyles)||void 0===o?void 0:o[y.Z9.DA]):function(e,t,n){return Qe(tt(e,t,n))}(c.monetizationId,u,null===(s=c.adStyles)||void 0===s?void 0:s[y.Z9.DA]))}return{displaySettings:c.settings[e],displayProvider:c.providers[e],displayImpressions:c.adImpressions[e],attachCompanion:t,displayContainer:c.containers[e]}})),(0,o.Z)(this,"loadDisplayByType",function(){var e=(0,r.Z)(d().mark((function e(t,n){var i,r,a,o,s,l,u,p,v,f,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.getLoadStrategy(t),a=r.displaySettings,o=r.displayContainer,s=r.displayImpressions,l=r.attachCompanion,u=r.displayProvider,p=a.loadAdOn,v=p.midRollSettings,f=p.preRollSettings,c.firstRequests[t]=void 0===c.firstRequests[t],l(n,o,t===y.Z9.DA?"above":"below"),h=s>0?v:f,e.next=7,c.waitForBizCriteriaToLoad(h,n,o);case 7:return(0,e.sent)(),c.trackEvent(B.C.PLAYER_MON_LOADING_PENDING,t),e.next=12,u.load(null===(i=o.firstElementChild)||void 0===i?void 0:i.id,n,!0);case 12:c.trackEvent(B.C.PLAYER_MON_LOADING_PASS,t),t!==y.Z9.DA&&t!==y.Z9.DA_BELOW||(c.isDisplayAdLoaded[t]=!0);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,o.Z)(this,"startDisplayNative",(function(e){var t=c.providers[e];t&&t.initNativeAd(!1,"companion")})),(0,o.Z)(this,"startDisplayAd",function(){var e=(0,r.Z)(d().mark((function e(t){var n,i,a,o,s,l,u,p,v,f,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=c.getLoadStrategy(t),s=o.displaySettings,l=o.displayContainer,u=o.displayProvider,l&&u){e.next=3;break}return e.abrupt("return");case 3:if((0,j.f_)("Call companion display ".concat(t," - ").concat(u.NAME)),!((null==s||null===(n=s.loadAdOn)||void 0===n||null===(i=n.midRollSettings)||void 0===i||null===(a=i.configuration)||void 0===a?void 0:a.refreshAdOn)||!1)){e.next=10;break}return e.next=8,(0,Se.Xg)(l,{type:y.dI.VIEW});case 8:(0,e.sent)();case 10:if(p=[y.Z9.VA,y.Z9.VA_BELOW].map((function(e){var t;return null===(t=c.settings[e])||void 0===t?void 0:t.companionPosition})),!(v=s.displayAdLocation)||!p.includes(v)){e.next=19;break}return e.next=15,c.awaitForVideoToFinish[v];case 15:if(!c.isDisplayAdDestroyed[t]){e.next=19;break}return c.isDisplayAdDestroyed[t]=!1,e.next=19,u.load(null===(f=l.firstElementChild)||void 0===f?void 0:f.id,c.apesterElement,!0);case 19:return h=v||"aside",c.awaitForDisplayToFinish[h]=new Promise((function(e){(0,r.Z)(d().mark((function n(){var i,r,a,o,s,p,v;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c.increaseDisplayedCount(t),c.trackEvent(B.C.PLAYER_MON_IMPRESSION_PENDING,t),et(l),null==(r=document.getElementById(l.id))||null===(i=r.firstElementChild)||void 0===i||i.classList.remove("lang-de","lang-en"),n.next=8,u.waitForImpression();case 8:return a=n.sent,o=a.cpm,s=a.bidder,$e(l),n.next=14,(0,m.xO)(r);case 14:n.sent?((0,j.i9)("Companion display ".concat(t," - ").concat(u.NAME,", received an AD")),c.trackEvent(B.C.PLAYER_MON_IMPRESSION,t,s,o),null===(p=r.firstElementChild)||void 0===p||p.classList.add("de"===c.apesterElement.lang?"lang-de":"lang-en"),(v=l.style).height||(v.height="auto"),t!==y.Z9.DA_LEFT&&t!==y.Z9.DA_RIGHT||c.checkAsideAdAndApesterElementHeights(r)):((0,j.ur)("Companion display ad is empty - ".concat(t," - ").concat(u.NAME)),c.trackEvent(B.C.PLAYER_MON_LOADING_FAILED,t),c.killDisplayAd(t)),c.resetUnfill(t),c.increaseImpressionCount(t),n.next=23;break;case 20:n.prev=20,n.t0=n.catch(0),(0,j.ur)("Monetization companion start display ad - error",n.t0);case 23:return n.prev=23,e(),n.finish(23);case 26:case"end":return n.stop()}}),n,null,[[0,20,23,26]])})))()})),e.next=23,c.awaitForDisplayToFinish[h];case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)(this,"loadVideo",function(){var e=(0,r.Z)(d().mark((function e(t){var n,i,r,a,o,s,l,u,p,v,f,h,m,g,b,I,A,Z,k=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=k.length>1&&void 0!==k[1]?k[1]:y.Z9.VA,c.firstRequests[o]=void 0===c.firstRequests[o],c.videoAdSize=P(t),s=c.videoAdSize,l=s.width,u=s.height,p=(null===(n=c.settings[o])||void 0===n?void 0:n.companionPosition)||"above",v="below"===p?c.belowBackfillImage:c.aboveBackfillImage,f=v?Je(c.monetizationId,p,v,[l,u],c.adStyles[y.Z9.VA]):Xe(c.monetizationId,p,c.adStyles[y.Z9.VA]),c.containers[o]=f,c.attachCompanion(t,f,p),h=c.settings[o],m=h.loadAdOn,g=m.midRollSettings,b=m.preRollSettings,I=h.playerOption.useProviderSettings,void 0!==I&&I){e.next=18;break}return A=c.adImpressions[o]?g:b,(0,j.f_)("Companion load video loadAdSettings",A),e.next=15,c.waitForBizCriteriaToLoad(A,t,f);case 15:(0,e.sent)(),(0,j.i9)("Companion biz criteria to load video is passed");case 18:return c.trackEvent(B.C.PLAYER_MON_LOADING_PENDING,o),Z=v?null===(i=f.querySelector(".video-player-container"))||void 0===i?void 0:i.id:null===(r=f.firstElementChild)||void 0===r?void 0:r.id,e.next=22,null===(a=c.providers[o])||void 0===a?void 0:a.load(Z);case 22:c.videoPlayers[o]=e.sent,c.trackEvent(B.C.PLAYER_MON_LOADING_PASS,o);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)(this,"startVideoAd",function(){var e=(0,r.Z)(d().mark((function e(t,n){var i,a,o,s,l,u,p,v,f,h,m,g,b,I;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=null===(i=c.containers)||void 0===i?void 0:i[n],u=null===(a=c.providers)||void 0===a?void 0:a[n],p=null===(o=c.videoPlayers)||void 0===o?void 0:o[n],v=null===(s=c.settings)||void 0===s?void 0:s[n],l&&u&&p){e.next=3;break}return e.abrupt("return");case 3:return c.increaseDisplayedCount(n),h=(f=v||{}).companionPosition,m=f.playerOption,g=void 0===m?{}:m,I="below"===(b=h||"above")?c.belowBackfillImage:c.aboveBackfillImage,(0,j.f_)("Call companion video ad - ".concat(u.NAME)),c.trackEvent(B.C.PLAYER_MON_IMPRESSION_PENDING,n),e.next=11,u.waitForImpression(p);case 11:return c.awaitForVideoToFinish[b]=new Promise((function(e){(0,r.Z)(d().mark((function i(){var a,o,s,v,f,h,m,A,Z,k,_,w,D;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,(0,j.i9)("Companion video ad - ".concat(u.NAME,", received an AD")),c.trackEvent(B.C.PLAYER_MON_IMPRESSION,n),c.resetUnfill(n),[y.Z9.DA,y.Z9.DA_BELOW].forEach(function(){var e=(0,r.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(n=c.settings[t])||void 0===n?void 0:n.displayAdLocation)!==b){e.next=4;break}return e.next=3,c.awaitForDisplayToFinish[b];case 3:c.killAdWhenVideoIsPlaying(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c.videoAdSize=P(t),null==u||u.resize(p,c.videoAdSize),o=P(t),s=o.width,v=o.height,f=I&&null!==(a=l.querySelector(".video-player-container"))&&void 0!==a?a:l,I||null===(h=l.firstElementChild)||void 0===h||h.classList.add("de"===t.lang?"lang-de":"lang-en"),qe(f,[s,v]),null==u||u.resize(o),m=g.useProviderSettings,A=void 0!==m&&m,Z=g.companion,k=!A&&(null==Z?void 0:Z.shouldPauseWhenOutOfView),i.next=17,k?(0,Se.UJ)(l,{type:y.dI.LOAD,onEnter:function(){u.resume(p)},onExit:function(){u.pause(p)}},!0):function(){};case 17:return _=i.sent,i.next=20,u.play(p);case 20:w=i.sent,D="skip"===w?B.C.PLAYER_MON_SKIPPED:B.C.PLAYER_MON_STOPPED,c.trackEvent(D,n),Ye(f),c.increaseImpressionCount(n),_(),A&&c.startVideoAd(t,n),i.next=32;break;case 29:i.prev=29,i.t0=i.catch(0),(0,j.ur)("Monetization companion start video ad - error",i.t0);case 32:return i.prev=32,e(),i.finish(32);case 35:case"end":return i.stop()}}),i,null,[[0,29,32,35]])})))()})),e.next=14,c.awaitForVideoToFinish[b];case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,o.Z)(this,"getCampaignId",(function(){return c.campaignId})),(0,o.Z)(this,"killDisplayAd",(function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.Z9.DA,i=c.containers[n];i&&(null===(e=c.providers[n])||void 0===e||e.destroy(null==i||null===(t=i.firstElementChild)||void 0===t?void 0:t.id),i.remove())})),(0,o.Z)(this,"killAdWhenVideoIsPlaying",(function(e){c.containers[e]&&!c.isDisplayAdDestroyed[e]&&c.isDisplayAdLoaded[e]&&(c.isDisplayAdDestroyed[e]=!0,(0,j.f_)("Monetization companion compete - video ad is active, destroying display ad"),c.killDisplayAd(e))})),(0,o.Z)(this,"killVideoAd",(function(e){var t,n;null===(t=c.containers[e])||void 0===t||t.remove(),c.videoPlayers[e]&&(null===(n=c.providers[e])||void 0===n||n.destroy(c.videoPlayers[e]))})),(0,o.Z)(this,"getTriggerType",(function(e){return c.adRequests[e]>1?"refresh":"start"})),(0,o.Z)(this,"getReason",(function(e){return c.apesterElement.isUserEngaged?"MIDROLL":c.firstRequests[e]?"IDLE":"IDLE_LOOP"})),(0,o.Z)(this,"getMonProvider",(function(e){var t=c.monProvider;return e===y.Z9.DA_LEFT?t="co_left":e===y.Z9.DA_RIGHT&&(t="co_right"),t})),(0,o.Z)(this,"trackEvent",(function(e,t,n,i){var r,a,o,s=null===(r=c.providers[t])||void 0===r?void 0:r.NAME;if(t===y.Z9.VA||t===y.Z9.VA_BELOW){var d=c.videoAdSize||{},l=d.width,u=d.height;o=l&&u?"".concat(l," x ").concat(u):void 0}var p=(0,W.Yx)(it({reason:c.getReason(t),monSize:o,monType:s,monBidder:null!=n?"".concat(n):n,monProvider:c.getMonProvider(t),monTriggerType:c.getTriggerType(t),companionCampaignId:c.campaignId,companionCustomParam:null!=i?"".concat(i):i},c.abTestReportData));null===(a=c.eventTracker)||void 0===a||a.sendMonetizationEvent(e,p)})),this.monetizationId=s,this.campaignId=n,this.apesterElement=t,this.eventTracker=this.apesterElement.getEventTracker(),this.monProvider="co",this.awaitForVideoToFinish={above:new Promise((function(e){return e()})),below:new Promise((function(e){return e()})),floating:new Promise((function(e){return e()}))},this.awaitForDisplayToFinish={above:new Promise((function(e){return e()})),below:new Promise((function(e){return e()})),aside:new Promise((function(e){return e()}))},this.adStyles={},this.unfill=it({},rt),this.adRequests=it({},rt),this.firstRequests={},this.adImpressions=it({},rt),this.settings={},this.providers={},this.containers={},this.videoPlayers={},this.isDisplayAdDestroyed={},this.isDisplayAdLoaded={}}var t,n;return(0,c.Z)(e,[{key:"init",value:(n=(0,r.Z)(d().mark((function e(t){var n,i,a,o,s,c,l,u,p,v,f,h,g,b,I=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.apesterElement.getModel()){e.next=3;break}return e.abrupt("return");case 3:return i=t||n.campaignData,o=(a=i).testCompanionCampaign,s=a.companionCampaignOptions,this.abTestReportData={a_b_test:o||"",apester_campaign_id:o&&null!=s&&s.originalCompanionCampaignId?s.originalCompanionCampaignId:"",custom1:o?y.YD.IS_A_B:""},c={a_b_test:o||"",apester_campaign_id:this.campaignId,ad_unit_position:this.monProvider},l=this.apesterElement.publisher.campaignSettings,u=(l=void 0===l?{}:l).companionAds,p=(u=void 0===u?{}:u).usePlaceholder,v=void 0!==p&&p,f=u.above,h=void 0===f?void 0:f,g=u.below,b=void 0===g?void 0:g,this.settings=O(this.apesterElement,it(it({},i),{},{providerReportData:c})),this.asideAds=this.checkAsideAdsPossibilityAndPrepareStyling(),this.settings=it(it({},this.settings),x(this.apesterElement,i)),e.next=17,Promise.all(Object.values(y.Z9).map(function(){var e=(0,r.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.VH)(t,I.settings[t],I.apesterElement,I.campaignId);case 2:I.providers[t]=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 17:v&&(this.belowBackfillImage=b,this.aboveBackfillImage=h);case 18:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"waitForBizCriteriaToLoad",value:(t=(0,r.Z)(d().mark((function e(t,n,i){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Se.Xg)(i,t);case 2:return r=e.sent,e.next=5,(0,m.jS)(n,t);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),function(e,n,i){return t.apply(this,arguments)})}]),e}(),ot=n(1615),st=function e(t,n,i,a,o){var s=!1;return[function(){var c=(0,r.Z)(d().mark((function r(){var c,l,u,p;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c=i.idle,l=c.maxAds,u=c.requestTimeout,p=void 0===u?1:u,!(c.numOfRequests>=l)){r.next=10;break}return(0,j.f_)("Monetization ID un availble] ".concat(o===y.Z9.VA?"video":"display"," inunit loop  - finish loop call due to request limit")),r.next=6,(0,Se.UJ)(n.container,{},!1);case 6:(0,r.sent)(),(0,j.f_)("Monetization ID un availble] ".concat(o===y.Z9.VA?"video":"display"," inunit loop  -  reset due to view")),c.numOfRequests=0;case 10:if(!s){r.next=12;break}return r.abrupt("return",{completed:!0});case 12:return c.numOfRequests+=1,r.prev=13,r.next=16,a(n);case 16:return r.next=18,(0,W.Vs)(1e3*p);case 18:r.next=24;break;case 20:r.prev=20,r.t0=r.catch(13),t.trackEvent(B.C.PLAYER_MON_LOADING_IMPRESSION_FAILED,o),(0,j.ur)(r.t0.message);case 24:return r.abrupt("return",e(t,n,i,a,o));case 25:case"end":return r.stop()}}),r,null,[[13,20]])})));return function(){return c.apply(this,arguments)}}()(),function(){s=!0}]},dt=function(){var e=(0,r.Z)(d().mark((function e(t,n){var i,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.unfillCounter>=3)){e.next=8;break}return(0,j.ur)("Monetization ID un availble] bottom ad - finish loop call due to unfill limit"),e.next=4,(0,Se.UJ)(t.container,{},!1);case 4:(0,e.sent)(),(0,j.f_)("Monetization ID un availble] bottom ad - reset loop call due to view"),n.resetUnfill();case 8:return r=null==n||null===(i=n.container)||void 0===i?void 0:i.id,e.prev=9,(0,j.f_)("Monetization ID ".concat(r," bottom ad - fetching an ad")),e.next=13,n.start(t,t.engineName);case 13:(0,j.i9)("Monetization ".concat(r," bottom ad - received an ad")),e.next=22;break;case 16:e.prev=16,e.t0=e.catch(9),(0,j.ur)("Monetization ID ".concat(r," bottom ad - didnt get an ad"),e.t0),n.trackEvent(B.C.PLAYER_MON_LOADING_IMPRESSION_FAILED),n.increaseUnfill(),n.killDisplayAd();case 22:return(0,j.f_)("Monetization ID ".concat(r," bottom ad - waiting for timeout to refresh - ").concat(3e4," ms")),e.next=25,(0,W.Vs)(3e4);case 25:return e.abrupt("return",dt(t,n));case 26:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t,n){return e.apply(this,arguments)}}(),ct=function e(t){var s=this;(0,a.Z)(this,e),(0,o.Z)(this,"inUnit",void 0),(0,o.Z)(this,"companion",void 0),(0,o.Z)(this,"bottomAd",void 0),(0,o.Z)(this,"videoCampaignId",void 0),(0,o.Z)(this,"companionCampaignId",void 0),(0,o.Z)(this,"id",void 0),(0,o.Z)(this,"stopDisplayInunitLoop",void 0),(0,o.Z)(this,"stopVideoInunitLoop",void 0),(0,o.Z)(this,"campaignDataSimulation",void 0),(0,o.Z)(this,"setSimulatedCampaign",(0,r.Z)(d().mark((function e(){var t,n,i,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.Ce)();case 2:if(s.campaignDataSimulation=e.sent,s.campaignDataSimulation){e.next=5;break}return e.abrupt("return");case 5:t=s.campaignDataSimulation||{},n=t.videoCampaignOptions,i=t.companionCampaignOptions,r=(n||{}).videoCampaignId,a=(i||{}).companionCampaignId,s.videoCampaignId=r||s.videoCampaignId,s.companionCampaignId=a||s.companionCampaignId;case 10:case"end":return e.stop()}}),e)})))),(0,o.Z)(this,"initAllAds",function(){var e=(0,r.Z)(d().mark((function e(t){var n,i,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null!==(n=t.attrs)&&void 0!==n&&n.stripItems?Promise.resolve(void 0):s.startCompanion(t),r=s.startInUnit(t),a=s.startBottomAd(t),e.abrupt("return",Promise.all([i,r,a]).catch((function(e){(0,j.ur)("125",{monId:s.id,e:e})})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)(this,"shouldStartVideoImmediately",(function(e){var t=e,n=t.type,i=t.playerOption.useProviderSettings;return n===u.Z.VIDAZOO||i})),(0,o.Z)(this,"getDisplayStrategy",(function(e){var t,n,i;return{settings:null===(t=s.companion)||void 0===t?void 0:t.settings[e],provider:null===(n=s.companion)||void 0===n?void 0:n.providers[e],displayLoop:function(t){return(0,ot.th)(s.companion,e,t)},killDisplay:(null===(i=s.companion)||void 0===i?void 0:i.killDisplayAd)||g.ZT}})),(0,o.Z)(this,"startDisplayCompanionWeb",function(){var e=(0,r.Z)(d().mark((function e(t,n){var i,r,a,o,c,l,u,p,v,f,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.companion){e.next=2;break}return e.abrupt("return");case 2:if(i=s.getDisplayStrategy(n),r=i.settings,a=i.provider,o=i.displayLoop,c=i.killDisplay,r&&a){e.next=5;break}return e.abrupt("return");case 5:return(0,j.f_)("126",{id:s.id,adType:n,settings:r}),l=r.companionRefresh,u=l.lockTime,p=l.refreshTime,v=l.refreshOnClick,e.prev=8,(0,j.f_)("127",{id:s.id,adType:n}),e.next=12,s.companion.loadDisplayByType(n,t);case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(8),s.companion.trackEvent(B.C.PLAYER_MON_LOADING_FAILED,n),(0,j.ur)("128",{id:s.id,adType:n,e:e.t0}),e.abrupt("return");case 19:if(e.prev=19,!p){e.next=31;break}return(0,j.f_)("129",{id:s.id,adType:n}),e.next=24,o(p);case 24:f=e.sent,h=(f||{}).unfillLimit,(0,j.f_)("130",{id:s.id,adType:n,unfillLimit:h}),(0,j.f_)("131",{id:s.id,adType:n}),c(n),e.next=32;break;case 31:v&&((0,j.f_)("132",{id:s.id,adType:n}),s.companion.refreshOnClick={lockTime:u});case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(19),(0,j.ur)("133",{id:s.id,adType:n,e:e.t1});case 37:case"end":return e.stop()}}),e,null,[[8,14],[19,34]])})));return function(t,n){return e.apply(this,arguments)}}()),(0,o.Z)(this,"startDisplayCompanionNative",(function(e){if(s.companion)return s.companion.startDisplayNative(e)})),(0,o.Z)(this,"startDisplayCompanion",function(){var e=(0,r.Z)(d().mark((function e(t,n){var i,r,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.companion){e.next=2;break}return e.abrupt("return");case 2:if(i=s.getDisplayStrategy(n),r=i.settings,a=i.provider,r&&a){e.next=5;break}return e.abrupt("return");case 5:if(!(0,U.rp)(r.type)){e.next=10;break}if(o=(0,U.ln)(),!(o.sdkVersion.localeCompare("1.0.47",void 0,{numeric:!0,sensitivity:"base"})<0)){e.next=9;break}return e.abrupt("return");case 9:return e.abrupt("return",s.startDisplayCompanionNative(n));case 10:return e.abrupt("return",s.startDisplayCompanionWeb(t,n));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,o.Z)(this,"startVideoCompanion",function(){var e=(0,r.Z)(d().mark((function e(t,n){var i,r,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(i=s.companion)&&void 0!==i&&i.settings[n]&&s.companion.providers[n]){e.next=2;break}return e.abrupt("return");case 2:return(0,j.f_)("134",{id:s.id,adType:n,settings:s.companion.settings[n]}),e.prev=3,(0,j.f_)("135",{id:s.id,adType:n}),e.next=7,s.companion.loadVideo(t,n);case 7:e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(3),s.companion.trackEvent(B.C.PLAYER_MON_LOADING_FAILED,n),(0,j.ur)("136",{id:s.id,adType:n,e:e.t0}),e.abrupt("return");case 14:if(!s.shouldStartVideoImmediately(null===(r=s.companion)||void 0===r?void 0:r.settings[n])){e.next=18;break}return(0,j.f_)("137",{id:s.id,adType:n}),s.companion.startVideoAd(t,n),e.abrupt("return");case 18:return e.prev=18,(0,j.f_)("138",{id:s.id}),e.next=22,(0,ot.pe)(t,s.companion,n);case 22:a=e.sent,(o=(a||{}).unfillLimit)&&(0,j.f_)("139",{id:s.id,unfillLimit:o}),(0,j.f_)("140",{id:s.id}),s.companion.killVideoAd(n),e.next=33;break;case 29:return e.prev=29,e.t1=e.catch(18),(0,j.ur)("141",{id:s.id,e:e.t1}),e.abrupt("return",Promise.reject());case 33:case"end":return e.stop()}}),e,null,[[3,9],[18,29]])})));return function(t,n){return e.apply(this,arguments)}}()),(0,o.Z)(this,"startCompanion",function(){var e=(0,r.Z)(d().mark((function e(t){var n,i,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.companionCampaignId){e.next=2;break}return e.abrupt("return");case 2:return s.companion=new at(t,s.companionCampaignId,s.id),e.next=5,s.companion.init(s.campaignDataSimulation);case 5:return n=s.companion.asideAds,i=n.hasLeftAd,r=n.hasRightAd,i&&s.startDisplayCompanion(t,y.Z9.DA_LEFT),r&&s.startDisplayCompanion(t,y.Z9.DA_RIGHT),s.startDisplayCompanion(t,y.Z9.DA),s.startDisplayCompanion(t,y.Z9.DA_BELOW),s.startVideoCompanion(t,y.Z9.VA),s.startVideoCompanion(t,y.Z9.VA_BELOW),e.abrupt("return",Promise.resolve());case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)(this,"startBottomAd",function(){var e=(0,r.Z)(d().mark((function e(t){var n,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f(t)){e.next=3;break}return e.abrupt("return",Promise.reject());case 3:if(i=!(0,m.zm)(n,y.ZD.BOTTOM_AD),s.videoCampaignId&&!i){e.next=6;break}return e.abrupt("return",Promise.reject());case 6:return(0,j.f_)("142",{id:s.id}),s.bottomAd=new Be(t,s.videoCampaignId),e.next=10,s.bottomAd.init(s.campaignDataSimulation);case 10:if(s.bottomAd.settings&&s.bottomAd.provider){e.next=12;break}return e.abrupt("return",Promise.reject());case 12:return e.prev=12,(0,j.f_)("143",{id:s.id}),e.next=16,s.bottomAd.loadBottomAd(n);case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(12),(0,j.f_)("144",{id:s.id}),e.abrupt("return",Promise.reject(e.t0));case 22:if(e.prev=22,(0,j.f_)("145",{id:s.id}),U.VL){e.next=29;break}return e.next=27,dt(n,s.bottomAd);case 27:e.next=31;break;case 29:return e.next=31,s.bottomAd.start(n,n.engineName);case 31:e.next=39;break;case 33:return e.prev=33,e.t1=e.catch(22),(0,j.ur)("146",{id:s.id,e:e.t1}),s.bottomAd.trackEvent(B.C.PLAYER_MON_LOADING_FAILED),s.bottomAd.killDisplayAd(),e.abrupt("return",Promise.reject(e.t1));case 39:return e.abrupt("return",Promise.resolve());case 40:case"end":return e.stop()}}),e,null,[[12,18],[22,33]])})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)(this,"startInUnitDisplay",function(){var e=(0,r.Z)(d().mark((function e(t){var n,r,a,o,c,l,u,p;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=s.inUnit)&&void 0!==n&&n.displaySettings&&null!==(r=s.inUnit)&&void 0!==r&&r.displayProvider){e.next=2;break}return e.abrupt("return",Promise.reject());case 2:return(0,j.f_)("147",{id:s.id,settings:null===(a=s.inUnit)||void 0===a?void 0:a.displaySettings}),e.prev=3,o=st(s.inUnit,t,s.inUnit.displaySettings,s.inUnit.startDisplay,y.Z9.DA),c=(0,i.Z)(o,2),l=c[0],u=c[1],s.stopDisplayInunitLoop=u,e.next=8,l;case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0={};case 11:p=e.t0,p.completed&&(s.inUnit.destroyAd(!0),(0,j.f_)("148",{id:s.id})),e.next=21;break;case 16:return e.prev=16,e.t1=e.catch(3),s.inUnit.trackEvent(B.C.PLAYER_MON_LOADING_FAILED,y.Z9.DA),(0,j.ur)("149",{id:s.id,e:e.t1}),e.abrupt("return",Promise.reject(e.t1));case 21:return e.abrupt("return",Promise.resolve());case 22:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)(this,"startInUnitVideo",function(){var e=(0,r.Z)(d().mark((function e(t){var n,r,a,o,c,l,u,p;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=s.inUnit)&&void 0!==n&&n.videoSettings&&null!==(r=s.inUnit)&&void 0!==r&&r.videoProvider){e.next=2;break}return e.abrupt("return",Promise.reject());case 2:if((0,j.f_)("150",{id:s.id,settings:null===(a=s.inUnit)||void 0===a?void 0:a.videoSettings}),!s.shouldStartVideoImmediately(s.inUnit.videoSettings)){e.next=6;break}return s.inUnit.startVideoWeb(t),e.abrupt("return");case 6:return e.prev=6,o=st(s.inUnit,t,s.inUnit.videoSettings,s.inUnit.startVideoWeb,y.Z9.VA),c=(0,i.Z)(o,2),l=c[0],u=c[1],s.stopVideoInunitLoop=u,e.next=11,l;case 11:if(e.t0=e.sent,e.t0){e.next=14;break}e.t0={};case 14:p=e.t0,p.completed&&(0,j.f_)("151",{id:s.id}),e.next=24;break;case 19:return e.prev=19,e.t1=e.catch(6),(0,j.ur)("152",{id:s.id,e:e.t1}),s.inUnit.trackEvent(B.C.PLAYER_MON_LOADING_FAILED,y.Z9.VA),e.abrupt("return",Promise.reject(e.t1));case 24:return e.abrupt("return",Promise.resolve());case 25:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)(this,"startInUnitNativeVideo",(0,r.Z)(d().mark((function e(){var t,n,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=s.inUnit)&&void 0!==t&&t.videoSettings&&null!==(n=s.inUnit)&&void 0!==n&&n.videoProvider){e.next=2;break}return e.abrupt("return");case 2:(0,j.f_)("153",{id:s.id,settings:null===(i=s.inUnit)||void 0===i?void 0:i.videoSettings});try{s.inUnit.startNativeVideo()}catch(e){(0,j.ur)("154",{id:s.id,e:e})}case 4:case"end":return e.stop()}}),e)})))),(0,o.Z)(this,"startInUnit",function(){var e=(0,r.Z)(d().mark((function e(t){var n,i,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f(t)){e.next=3;break}return e.abrupt("return");case 3:if(a=!(0,m.zm)(r,y.ZD.IN_UNIT),s.videoCampaignId&&!a){e.next=6;break}return e.abrupt("return");case 6:return s.inUnit=new Ve(t,s.videoCampaignId),e.next=9,s.inUnit.init(s.campaignDataSimulation);case 9:s.startInUnitDisplay(t),(0,U.rp)(null===(n=s.inUnit)||void 0===n||null===(i=n.videoSettings)||void 0===i?void 0:i.type)?s.startInUnitNativeVideo():s.startInUnitVideo(t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)(this,"killInUnit",(function(e){if(e.linkedInteraction&&s.inUnit){(0,j.f_)("155",{id:s.id});try{null!=s&&s.stopDisplayInunitLoop&&s.stopDisplayInunitLoop(),s.inUnit.killDisplayAd(e.linkedInteraction,"CLOSE_STRIP")}catch(e){(0,j.f_)("156",{id:s.id})}try{null!=s&&s.stopVideoInunitLoop&&(null==s||s.stopVideoInunitLoop()),s.inUnit.killVideoAd(e.linkedInteraction,void 0,"CLOSE_STRIP")}catch(e){(0,j.f_)("157",{id:s.id})}}})),(0,o.Z)(this,"setHasAdblock",function(){var e=(0,r.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.e(789).then(n.t.bind(n,7340,23));case 3:null==t||t.setHasAdblock(!1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),null==t||t.setHasAdblock(!0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),this.id=F.Z.id();var c=(t.getModel()||{}).campaignData||{},l=c.videoCampaignOptions,p=c.companionCampaignOptions,b=(l||{}).videoCampaignId;this.videoCampaignId=b;var I=(p||{}).companionCampaignId;this.companionCampaignId=I;var A=t.getEventTracker();if(this.setHasAdblock(A),t instanceof v.Z){var Z=t.getModel().interactionId;(0,j.f_)("123",{unit:Z,monId:this.id})}else h(t)&&(0,j.f_)("124",{token:null==t?void 0:t.publisherToken,monId:this.id})}}}]);