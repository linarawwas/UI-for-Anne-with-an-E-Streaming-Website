(self.webpackChunkapester_sdk=self.webpackChunkapester_sdk||[]).push([[169],{5366:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(7608),i=t(4665);function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function a(e,n,t){return(a=o()?Reflect.construct:function(e,n,t){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(e,r));return t&&(0,i.Z)(o,t.prototype),o}).apply(null,arguments)}function c(e){var n="function"==typeof Map?new Map:void 0;return(c=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,o)}function o(){return a(e,arguments,(0,r.Z)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(o,e)})(e)}},2975:function(e,n,t){"use strict";t(2419);var r=t(6610),i=t(3349),o=t(379),a=t(6070),c=t(7608),s=t(5366),l=t(6156);t(8309);function d(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,c.Z)(e);if(n){var i=(0,c.Z)(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return(0,a.Z)(this,t)}}var u=function(e){(0,o.Z)(t,e);var n=d(t);function t(e,o,a){var c;return(0,r.Z)(this,t),c=n.call(this,o),(0,l.Z)((0,i.Z)(c),"type",void 0),(0,l.Z)((0,i.Z)(c),"data",void 0),Error.captureStackTrace&&Error.captureStackTrace((0,i.Z)(c),t),c.name="MonetizationError",c.data=a,c.type=e,c}return t}((0,s.Z)(Error));n.Z=u},3266:function(e,n){"use strict";var t;!function(e){e.UNKNOWN="unknown",e.NO_AD_SERVED="no_impression"}(t||(t={})),n.Z=t},5891:function(e,n,t){"use strict";t.r(n);var r=t(2137),i=t(6610),o=t(6156),a=t(7757),c=t.n(a),s=(t(2222),t(6992),t(1539),t(8783),t(3948),t(285),t(8674),t(7941),t(2526),t(7327),t(5003),t(4747),t(9337),t(7547)),l=t.n(s),d=t(3309),u=t(478),p=t(2038),f=t(7602),h=t(3266),v=t(2975);function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.default=function e(n,t,a){var s=this;(0,i.Z)(this,e),(0,o.Z)(this,"NAME","aniview"),(0,o.Z)(this,"config",void 0),(0,o.Z)(this,"player",void 0),(0,o.Z)(this,"players",void 0),(0,o.Z)(this,"loadConfig",void 0),(0,o.Z)(this,"loadAniview",void 0),(0,o.Z)(this,"loadImpressionListeners",void 0),(0,o.Z)(this,"load",function(){var e=(0,r.Z)(c().mark((function e(n){var t,r,i,o,a,d,h,v,w,I,g,m,E,A,P,_,O,b;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.players[n]){e.next=4;break}return s.player=s.players[n],s.player.setWaterfallState(!0,!0),e.abrupt("return",s.player);case 4:return t=s.config,r=t.publisherId,i=t.channelId,o=t.playerId,a="".concat(p.K.PLAYER_SCRIPT,"?v=1&type=s&pid=").concat(r),d=document.getElementsByTagName("head")[0],s.loadConfig||(h=new URL(p.K.CONFIG_SCRIPT),s.loadConfig=l().Get(h,{AV_TAGID:o,AV_PUBLISHERID:r,domain:window.location.href},{withCredentials:!0})),(0,u.f_)("Monetization video aniview - loading aniview config script with the following attributes",{AV_TAGID:o,AV_PUBLISHERID:r}),(v=s.loadPixel(r,i))&&d.appendChild(v),s.loadAniview||(s.loadAniview=(0,f.OE)(a,d,p.K.PLAYER_SCRIPT,{referrerpolicy:"strict-origin-when-cross-origin"})),e.next=14,Promise.all([s.loadConfig,s.loadAniview]);case 14:if(w=e.sent,I=window,g=I.avPlayer){e.next=19;break}throw(0,u.ur)("Monetization video aniview - aniview player dont exist on window"),new Error("Aniview window.avPlayer is not exist.");case 19:return s.config.position=n,m=w[0].config,E=y(y({},void 0===m?{}:m),s.config),(0,u.f_)("Monetization video aniview - loading aniview player with following config",E),(A=document.createElement("div")).style.width="100%",A.style.margin="0 auto",A.style.maxWidth="".concat(E.maxWidth,"px"),(P=document.createElement("div")).id="aniBox-".concat(n),(_=document.createElement("div")).id=E.position,null==(O=document.getElementById(E.position))||O.appendChild(A),A.appendChild(P),P.appendChild(_),O.id="aniview-player-".concat(n),b=new g(E),s.player=b,s.loadImpressionListeners=s.waitToAdServe(),b.play(E),b.startTemplate(document.getElementById(E.position).parentNode),s.players[n]=b,e.abrupt("return",b);case 43:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),(0,o.Z)(this,"handleErrorFunc",(function(e){s.player.on(p.e.AD_ERROR,(function(n){n&&n.errorlimit&&e(n)}))})),(0,o.Z)(this,"waitToAdServe",(function(){return new Promise((function(e,n){s.handleErrorFunc(n),s.player.on(p.e.AD_IMPRESSION,(function(){s.player.off(p.e.AD_ERROR),e(s.player)}))}))})),(0,o.Z)(this,"waitForImpression",(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.loadImpressionListeners;case 3:s.loadImpressionListeners=s.waitToAdServe(),e.next=12;break;case 6:if(e.prev=6,e.t0=e.catch(0),s.loadImpressionListeners=s.waitToAdServe(),null===e.t0||void 0===e.t0||!e.t0.errorlimit){e.next=11;break}throw new v.Z(h.Z.NO_AD_SERVED,"Aniview - no ad served",e.t0);case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,6]])})))),(0,o.Z)(this,"play",(function(){return new Promise((function(e,n){s.handleErrorFunc(n),s.player.on(p.e.AD_SKIPPED,(function(){e("skip")})),s.player.on(p.e.AD_CLOSED,(function(){s.player.off(p.e.AD_ERROR),e("end")})),s.player.on(p.e.AD_VIDEO_COMPLETE,(function(){s.player.off(p.e.AD_ERROR),e("end")}))}))})),(0,o.Z)(this,"destroy",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n?s.player.setWaterfallState(!1,!1):s.player.close()})),(0,o.Z)(this,"resize",(function(e){var n=e.width,t=e.height,r=s.player,i=r.getWidth,o=r.getHeight;i&&o&&(i()===n&&o()===t||s.player.resize(n,t))})),(0,o.Z)(this,"loadPixel",(function(e,n){if(!document.getElementById(p.K.PIXEL_ID)){var t=new Image;return t.src="".concat(p.K.PIXEL_URL,"\n    ?pid=").concat(e,"&cid=").concat(n,"&e=playerLoaded&cb=").concat(Date.now(),"&monBidder=[AV_ADVERTISER_NAME]"),t.id=p.K.PIXEL_ID,t}})),(0,o.Z)(this,"resume",(function(){s.player.play()})),(0,o.Z)(this,"pause",(function(){s.player.pause()}));var w=t.channelId,I=t.playerId,g=t.adSize,m=g.width,E=g.height;this.players={},this.config={ref1:(0,d._2)(n,a),width:m,height:E,playerId:I,channelId:w,publisherId:p.K.PUBLISHER_ID}}},896:function(e,n,t){"use strict";t.r(n);t(7941),t(2526),t(7327),t(5003),t(4747),t(9337);var r=t(2137),i=t(6610),o=t(6156),a=t(7757),c=t.n(a),s=(t(6992),t(1539),t(8783),t(3948),t(285),t(2222),t(8674),t(7547)),l=t.n(s),d=t(3309),u=t(478),p=t(2038),f=t(7602),h=t(3266),v=t(2975);function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.default=function e(n,t,a){var s=this;(0,i.Z)(this,e),(0,o.Z)(this,"NAME","aniview"),(0,o.Z)(this,"config",void 0),(0,o.Z)(this,"player",void 0),(0,o.Z)(this,"channel",void 0),(0,o.Z)(this,"loadConfig",void 0),(0,o.Z)(this,"loadAniview",void 0),(0,o.Z)(this,"loadImpressionListeners",void 0),(0,o.Z)(this,"initConfig",(function(){var e=s.config,n=e.publisherId,t=e.playerId,r=e.playerId2,i=e.playerId3,o=e.playerId4,a=e.channelId,c=e.channelId2,d=e.channelId3,f=e.channelId4,h=new URL(p.K.CONFIG_SCRIPT),v=t;s.channel=a;var w=100*Math.random();return w>75&&r?(v=r,s.channel=c):w>50&&w<=75&&i?(v=i,s.channel=d):w>25&&w<=50&&o&&(v=o,s.channel=f),(0,u.f_)("Monetization video aniview - loading aniview config script with the following attributes",{AV_TAGID:v,AV_PUBLISHERID:n}),l().Get(h,{AV_TAGID:v,AV_PUBLISHERID:n,domain:window.location.href},{withCredentials:!0})})),(0,o.Z)(this,"initValues",(0,r.Z)(c().mark((function e(){var n,t,r,i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadConfig;case 2:if(n=e.sent,t=window,r=t.avPlayer){e.next=7;break}throw(0,u.ur)("Monetization video aniview - aniview player dont exist on window"),new Error("Aniview window.avPlayer is not exist.");case 7:return i=n.config,o=y(y({},void 0===i?{}:i),s.config),(0,u.f_)("Monetization video aniview - loading aniview player with following config",o),a=new r(o),s.player=a,a.play(o),a.startTemplate(document.getElementById(o.position).parentNode),e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})))),(0,o.Z)(this,"load",function(){var e=(0,r.Z)(c().mark((function e(n){var t,r,i,o,a,l,d,h,v,w,I,g,m,E;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.config.publisherId,r="".concat(p.K.PLAYER_SCRIPT,"?v=1&type=s&pid=").concat(t),i=document.getElementsByTagName("head")[0],s.loadConfig=s.initConfig(),(o=s.loadPixel(t,s.channel))&&i.appendChild(o),s.loadAniview||(s.loadAniview=(0,f.OE)(r,i,p.K.PLAYER_SCRIPT,{referrerpolicy:"strict-origin-when-cross-origin"})),e.next=9,Promise.all([s.loadConfig,s.loadAniview]);case 9:if(a=e.sent,l=window,d=l.avPlayer){e.next=14;break}throw(0,u.ur)("Monetization video aniview - aniview player dont exist on window"),new Error("Aniview window.avPlayer is not exist.");case 14:return s.config.position=n,h=a[0].config,v=y(y({},void 0===h?{}:h),s.config),(0,u.f_)("Monetization video aniview - loading aniview player with following config",v),(w=document.createElement("div")).style.width="100%",w.style.margin="0 auto",w.style.maxWidth="".concat(v.maxWidth,"px"),(I=document.createElement("div")).id="aniBox",(g=document.createElement("div")).id=v.position,null==(m=document.getElementById(v.position))||m.appendChild(w),w.appendChild(I),I.appendChild(g),m.id="",E=new d(v),s.player=E,s.loadImpressionListeners=s.waitToAdServe(),E.play(v),E.startTemplate(document.getElementById(v.position).parentNode),e.abrupt("return",E);case 37:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),(0,o.Z)(this,"handleErrorFunc",(function(e){s.player.on(p.e.AD_ERROR,(function(n){n&&n.errorlimit&&e(n)}))})),(0,o.Z)(this,"waitToAdServe",(0,r.Z)(c().mark((function e(){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.loadAniview){e.next=8;break}return s.initConfig(),n=s.config.publisherId,(t=s.loadPixel(n,s.channel))&&document.getElementsByTagName("head")[0].appendChild(t),e.next=7,s.initValues();case 7:s.player=e.sent;case 8:return e.abrupt("return",new Promise((function(e,n){s.handleErrorFunc(n),s.player.on(p.e.AD_IMPRESSION,(function(){s.player.off(p.e.AD_ERROR),e(s.player)}))})));case 9:case"end":return e.stop()}}),e)})))),(0,o.Z)(this,"waitForImpression",(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.loadImpressionListeners;case 3:s.loadImpressionListeners=s.waitToAdServe(),e.next=12;break;case 6:if(e.prev=6,e.t0=e.catch(0),s.loadImpressionListeners=s.waitToAdServe(),null===e.t0||void 0===e.t0||!e.t0.errorlimit){e.next=11;break}throw new v.Z(h.Z.NO_AD_SERVED,"Aniview - no ad served",e.t0);case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,6]])})))),(0,o.Z)(this,"play",(function(e){return new Promise((function(n,t){s.handleErrorFunc(t),e.on(p.e.AD_SKIPPED,(function(){n("skip")})),e.on(p.e.AD_CLOSED,(function(){e.off(p.e.AD_ERROR),n("end")})),e.on(p.e.AD_VIDEO_COMPLETE,(function(){e.off(p.e.AD_ERROR),n("end")}))}))})),(0,o.Z)(this,"destroy",(function(){s.player.close()})),(0,o.Z)(this,"resize",(function(e){var n=e.width,t=e.height,r=s.player,i=r.getWidth,o=r.getHeight;i&&o&&(i()===n&&o()===t||s.player.resize(n,t))})),(0,o.Z)(this,"loadPixel",(function(e,n){var t=document.getElementById(p.K.PIXEL_ID),r="".concat(p.K.PIXEL_URL,"\n      ?pid=").concat(e,"&cid=").concat(n,"&e=playerLoaded&cb=").concat(Date.now(),"&monBidder=[AV_ADVERTISER_NAME]");t&&t.remove();var i=new Image;return i.src=r,i.id=p.K.PIXEL_ID,i})),(0,o.Z)(this,"resume",(function(){s.player.play()})),(0,o.Z)(this,"pause",(function(){s.player.pause()}));var w=t.channelId,I=t.playerId,g=t.channelId2,m=t.channelId3,E=t.channelId4,A=t.playerId2,P=t.playerId3,_=t.playerId4,O=t.adSize,b=O.width,D=O.height;this.config={ref1:(0,d._2)(n,a),width:b,height:D,playerId:I,playerId2:A,playerId3:P,playerId4:_,channelId:w,channelId2:g,channelId3:m,channelId4:E,publisherId:p.K.PUBLISHER_ID}}},2038:function(e,n,t){"use strict";var r,i;t.d(n,{K:function(){return r},e:function(){return i}}),function(e){e.PIXEL_ID="aniviewPixel",e.PIXEL_URL="https://track1.aniview.com/track",e.PUBLISHER_ID="5fabb425e5d4cb4bbc0ca7e4",e.PLAYER_SCRIPT="https://player.aniview.com/script/6.1/aniview.js",e.CONFIG_SCRIPT="https://tg1.aniview.com/api/adserver/pTag",e.PLAYER_SCRIPT_ID="aniviewJS"}(r||(r={})),function(e){e.AD_ERROR="AdError",e.AD_SKIPPED="AdSkipped",e.AD_CLOSED="AdClosed",e.AD_IMPRESSION="AdImpression",e.AD_VIDEO_COMPLETE="AdVideoComplete"}(i||(i={}))},3309:function(e,n,t){"use strict";t.d(n,{_2:function(){return l}});t(7941),t(2526),t(7327),t(5003),t(4747),t(9337);var r=t(6156),i=(t(7757),t(808)),o=t(4585),a=t(7602);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var l=function(e,n){var t,r,c,l,d,u,p,f,h=o.VL?(r=(0,o.ln)(),c=r.advertisingId,l=r.bundleId,d=r.gdprString,u=r.trackingEnabled,p=r.appStoreUrl,f=(0,o.L6)(),{AV_DNT:u,AV_AID:f?void 0:c,AV_GDPR:d?"1":void 0,AV_IDFA:f?c:void 0,AV_IFATYPE:f?o.xJ.iOS:o.xJ.Android,AV_CONSENT:d,AV_APPPKGNAME:l,AV_APPSTOREURL:p}):void 0,v=e.getModel(),w=v.publisherId,y=v.interactionId,I=v.embedType,g=v.campaignData,m=(0,a.Yx)(s({AV_CDIM1:y,AV_CDIM2:w,AV_CDIM3:i.Z.sessionId,AV_CDIM4:"1.0.91",AV_CDIM5:e.engineName,AV_CDIM6:n,AV_CDIM7:I,AV_CDIM8:i.Z.currentUrl,AV_CDIM9:(null==g||null===(t=g.videoCampaignOptions)||void 0===t?void 0:t.videoCampaignId)===n?"va":"co"},h));return(0,a.ob)(m)}}}]);